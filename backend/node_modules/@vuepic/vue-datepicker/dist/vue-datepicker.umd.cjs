(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=u(e.Vue,e.dateFns))})(this,function(e,u){"use strict";function Le(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function jt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function $t(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const Nt=(t,r,a,n,i)=>{const m=u.parse(t,r.slice(0,t.length),new Date);return u.isValid(m)&&u.isDate(m)?n||i?m:u.set(m,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},Gt=(t,r,a,n,i)=>{const m=Array.isArray(a)?a[0]:a;if(typeof r=="string")return Nt(t,r,m,n,i);if(Array.isArray(r)){let g=null;for(const P of r)if(g=Nt(t,P,m,n,i),g)break;return g}return typeof r=="function"?r(t):null},C=t=>t?new Date(t):new Date,Zt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),g=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${i}T${m}:${g}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},be=t=>{let r=C(JSON.parse(JSON.stringify(t)));return r=u.setHours(r,0),r=u.setMinutes(r,0),r=u.setSeconds(r,0),r=u.setMilliseconds(r,0),r},De=(t,r,a,n)=>{let i=t?C(t):C();return(r||r===0)&&(i=u.setHours(i,+r)),(a||a===0)&&(i=u.setMinutes(i,+a)),(n||n===0)&&(i=u.setSeconds(i,+n)),u.setMilliseconds(i,0)},fe=(t,r)=>!t||!r?!1:u.isBefore(be(t),be(r)),re=(t,r)=>!t||!r?!1:u.isEqual(be(t),be(r)),me=(t,r)=>!t||!r?!1:u.isAfter(be(t),be(r)),Tt=(t,r,a)=>t&&t[0]&&t[1]?me(a,t[0])&&fe(a,t[1]):t&&t[0]&&r?me(a,t[0])&&fe(a,r)||fe(a,t[0])&&me(a,r):!1,ve=t=>{const r=u.set(new Date(t),{date:1});return be(r)},Oe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Pt=()=>{const t=n=>{Oe.menuFocused=n},r=n=>{Oe.shiftKeyInMenu!==n&&(Oe.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Oe.shiftKeyInMenu,menuFocused:Oe.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ze={},qt={get exports(){return ze},set exports(t){ze=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=r.default})(qt,ze);const Xt=Qe(ze);var xe={},Jt={get exports(){return xe},set exports(t){xe=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=r.default})(Jt,xe);const At=Qe(xe);function Qt(t,r){var a=nn(r);return a.formatToParts?en(a,t):tn(a,t)}var Ft={year:0,month:1,day:2,hour:3,minute:4,second:5};function en(t,r){try{for(var a=t.formatToParts(r),n=[],i=0;i<a.length;i++){var m=Ft[a[i].type];m>=0&&(n[m]=parseInt(a[i].value,10))}return n}catch(g){if(g instanceof RangeError)return[NaN];throw g}}function tn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Fe={};function nn(t){if(!Fe[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Fe[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Fe[t]}function et(t,r,a,n,i,m,g){var P=new Date(0);return P.setUTCFullYear(t,r,a),P.setUTCHours(n,i,m,g),P}var Vt=36e5,rn=6e4,tt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function nt(t,r,a){var n,i;if(!t||(n=tt.timezoneZ.exec(t),n))return 0;var m;if(n=tt.timezoneHH.exec(t),n)return m=parseInt(n[1],10),_t(m)?-(m*Vt):NaN;if(n=tt.timezoneHHMM.exec(t),n){m=parseInt(n[1],10);var g=parseInt(n[2],10);return _t(m,g)?(i=Math.abs(m)*Vt+g*rn,m>0?-i:i):NaN}if(on(t)){r=new Date(r||Date.now());var P=a?r:an(r),O=rt(P,t),B=a?O:ln(r,O,t);return-B}return NaN}function an(t){return et(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function rt(t,r){var a=Qt(t,r),n=et(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),i=t.getTime(),m=i%1e3;return i-=m>=0?m:1e3+m,n-i}function ln(t,r,a){var n=t.getTime(),i=n-r,m=rt(new Date(i),a);if(r===m)return r;i-=m-r;var g=rt(new Date(i),a);return m===g?m:Math.max(m,g)}function _t(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Et={};function on(t){if(Et[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Et[t]=!0,!0}catch{return!1}}var sn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Rt=sn;var at=36e5,vt=6e4,cn=2,ye={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Rt};function lt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?cn:Xt(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=un(t),m=dn(i.date,n),g=m.year,P=m.restDateString,O=fn(P,g);if(isNaN(O))return new Date(NaN);if(O){var B=O.getTime(),Y=0,S;if(i.time&&(Y=mn(i.time),isNaN(Y)))return new Date(NaN);if(i.timeZone||a.timeZone){if(S=nt(i.timeZone||a.timeZone,new Date(B+Y)),isNaN(S))return new Date(NaN)}else S=At(new Date(B+Y)),S=At(new Date(B+Y+S));return new Date(B+Y+S)}else return new Date(NaN)}function un(t){var r={},a=ye.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=ye.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var i=ye.timeZone.exec(n);i?(r.time=n.replace(i[1],""),r.timeZone=i[1].trim()):r.time=n}return r}function dn(t,r){var a=ye.YYY[r],n=ye.YYYYY[r],i;if(i=ye.YYYY.exec(t)||n.exec(t),i){var m=i[1];return{year:parseInt(m,10),restDateString:t.slice(m.length)}}if(i=ye.YY.exec(t)||a.exec(t),i){var g=i[1];return{year:parseInt(g,10)*100,restDateString:t.slice(g.length)}}return{year:null}}function fn(t,r){if(r===null)return null;var a,n,i,m;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=ye.MM.exec(t),a)return n=new Date(0),i=parseInt(a[1],10)-1,It(r,i)?(n.setUTCFullYear(r,i),n):new Date(NaN);if(a=ye.DDD.exec(t),a){n=new Date(0);var g=parseInt(a[1],10);return gn(r,g)?(n.setUTCFullYear(r,0,g),n):new Date(NaN)}if(a=ye.MMDD.exec(t),a){n=new Date(0),i=parseInt(a[1],10)-1;var P=parseInt(a[2],10);return It(r,i,P)?(n.setUTCFullYear(r,i,P),n):new Date(NaN)}if(a=ye.Www.exec(t),a)return m=parseInt(a[1],10)-1,Lt(r,m)?Ot(r,m):new Date(NaN);if(a=ye.WwwD.exec(t),a){m=parseInt(a[1],10)-1;var O=parseInt(a[2],10)-1;return Lt(r,m,O)?Ot(r,m,O):new Date(NaN)}return null}function mn(t){var r,a,n;if(r=ye.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),ot(a)?a%24*at:NaN;if(r=ye.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),ot(a,n)?a%24*at+n*vt:NaN;if(r=ye.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var i=parseFloat(r[3].replace(",","."));return ot(a,n,i)?a%24*at+n*vt+i*1e3:NaN}return null}function Ot(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,m=r*7+a+1-i;return n.setUTCDate(n.getUTCDate()+m),n}var yn=[31,28,31,30,31,30,31,31,30,31,30,31],pn=[31,29,31,30,31,30,31,31,30,31,30,31];function Yt(t){return t%400===0||t%4===0&&t%100!==0}function It(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Yt(t);if(n&&a>pn[r]||!n&&a>yn[r])return!1}return!0}function gn(t,r){if(r<1)return!1;var a=Yt(t);return!(a&&r>366||!a&&r>365)}function Lt(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function ot(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Ke={},hn={get exports(){return Ke},set exports(t){Ke=t}},Ue={},kn={get exports(){return Ue},set exports(t){Ue=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(n[m]=i[m]);return n}t.exports=r.default})(kn,Ue),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var a=n(Ue);function n(m){return m&&m.__esModule?m:{default:m}}function i(m){return(0,a.default)({},m)}t.exports=r.default}(hn,Ke);const wn=Qe(Ke);function Dn(t,r,a){var n=lt(t,a),i=nt(r,n,!0),m=new Date(n.getTime()-i),g=new Date(0);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}function bn(t,r,a){if(typeof t=="string"&&!t.match(Rt)){var n=wn(a);return n.timeZone=r,lt(t,n)}var i=lt(t,a),m=et(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),g=nt(r,new Date(m));return new Date(m+g)}const Mn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Cn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(m=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${m}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),i=a.slice(r+1,a.length);return[a[r]].concat(...i).concat(...n)},$n=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},Bn=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const m=i<10?`0${i}`:i;return new Date(`2017-${m}-01T00:00:00+00:00`)}).map((i,m)=>({text:a.format(i),value:m}))},Sn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ce=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},Nn=t=>Object.assign({type:"dot"},t),zt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,He={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ue=t=>t,xt=t=>t===0?t:!t||isNaN(+t)?null:+t,Kt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Tn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),Pn=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,An=(t,r,a)=>t||(typeof a=="string"?a:r),Vn=t=>typeof t=="boolean"?t?Kt({}):!1:Kt(t),_n=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),En=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),we=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(He.prop("partial-range"))},a=e.computed(()=>({ariaLabels:Tn(t.ariaLabels),textInputOptions:Object.assign(_n(),t.textInputOptions),multiCalendars:Pn(t.multiCalendars),previewFormat:An(t.previewFormat,t.format,m()),filters:En(t.filters),transitions:Vn(t.transitions),startTime:f()})),n=s=>{if(t.range)return s();throw new Error(He.prop("range"))},i=()=>{const s=t.enableSeconds?":ss":"";return t.is24?`HH:mm${s}`:`hh:mm${s} aa`},m=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?i():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",g=(s,h)=>{if(typeof t.format=="function")return t.format(s);const l=h||m(),w=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(s)?`${u.format(s[0],l,w)} ${t.modelAuto&&!s[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${s[1]?u.format(s[1],l,w):""}`:u.format(s,l,w)},P=s=>t.timezone?Dn(s,t.timezone):s,O=s=>t.timezone?bn(s,t.timezone):s,B=e.computed(()=>s=>{var h;return(h=t.hideNavigation)==null?void 0:h.includes(s)}),Y=s=>{const h=t.maxDate?me(P(s),P(C(t.maxDate))):!1,l=t.minDate?fe(P(s),P(C(t.minDate))):!1,w=E(s,t.disabledDates),V=a.value.filters.months.map(ee=>+ee).includes(u.getMonth(s)),p=t.disabledWeekDays.length?t.disabledWeekDays.some(ee=>+ee===u.getDay(s)):!1,b=t.allowedDates.length?!t.allowedDates.some(ee=>re(P(C(ee)),P(s))):!1,y=u.getYear(s),L=y<+t.yearRange[0]||y>+t.yearRange[1];return!(h||l||w||V||L||p||b)},S=s=>{const h={hours:u.getHours(C()),minutes:u.getMinutes(C()),seconds:t.enableSeconds?u.getSeconds(C()):0};return Object.assign(h,s)},f=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[S(t.startTime[0]),S(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?S(t.startTime):null,$=s=>!Y(s),X=s=>Array.isArray(s)?u.isValid(s[0])&&(s[1]?u.isValid(s[1]):!0):s?u.isValid(s):!1,I=s=>s instanceof Date?s:u.parseISO(s),z=s=>{const h=u.startOfWeek(P(s),{weekStartsOn:+t.weekStart}),l=u.endOfWeek(P(s),{weekStartsOn:+t.weekStart});return[h,l]},E=(s,h)=>Array.isArray(h)?h.some(l=>re(P(C(l)),P(s))):h(C(JSON.parse(JSON.stringify(s)))),D=(s,h,l)=>{let w=s?C(s):C();return(h||h===0)&&(w=u.setMonth(w,h)),l&&(w=u.setYear(w,l)),w},G=s=>u.set(C(),{hours:u.getHours(s),minutes:u.getMinutes(s),seconds:u.getSeconds(s)}),q=s=>u.set(C(),{hours:+s.hours||0,minutes:+s.minutes||0,seconds:+s.seconds||0}),x=(s,h,l,w)=>{if(!s)return!0;if(w){const R=l==="max"?u.isBefore(s,h):u.isAfter(s,h),V={seconds:0,milliseconds:0};return R||u.isEqual(u.set(s,V),u.set(h,V))}return l==="max"?s.getTime()<=h.getTime():s.getTime()>=h.getTime()},F=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,ne=s=>Array.isArray(s)?[s[0]?G(s[0]):null,s[1]?G(s[1]):null]:G(s),N=s=>{const h=t.maxTime?q(t.maxTime):C(t.maxDate);return Array.isArray(s)?x(s[0],h,"max",!!t.maxDate)&&x(s[1],h,"max",!!t.maxDate):x(s,h,"max",!!t.maxDate)},A=(s,h)=>{const l=t.minTime?q(t.minTime):C(t.minDate);return Array.isArray(s)?x(s[0],l,"min",!!t.minDate)&&x(s[1],l,"min",!!t.minDate)&&h:x(s,l,"min",!!t.minDate)&&h},U=s=>{let h=!0;if(!s||F())return!0;const l=!t.minDate&&!t.maxDate?ne(s):s;return(t.maxTime||t.maxDate)&&(h=N(ue(l))),(t.minTime||t.minDate)&&(h=A(ue(l),h)),h},T=(s,h)=>{const l=C(JSON.parse(JSON.stringify(s))),w=[];for(let R=0;R<7;R++){const V=u.addDays(l,R),p=u.getMonth(V)!==h;w.push({text:t.hideOffsetDates&&p?"":V.getDate(),value:V,current:!p,classData:{}})}return w},H=(s,h)=>{const l=[],w=C(P(new Date(h,s))),R=C(P(new Date(h,s+1,0))),V=u.startOfWeek(w,{weekStartsOn:t.weekStart}),p=b=>{const y=T(b,s);if(l.push({days:y}),!l[l.length-1].days.some(L=>re(be(L.value),be(R)))){const L=u.addDays(b,7);p(L)}};if(p(V),t.sixWeeks&&l.length<6){const b=6-l.length;for(let y=1;y<=b;y++){const L=l[l.length-1],ee=L.days[L.days.length-1],ge=T(u.addDays(ee.value,1),u.getMonth(w));l.push({days:ge})}}return l},k=(s,h,l)=>[u.set(C(s),{date:1}),u.set(C(),{month:h,year:l,date:1})],j=(s,h)=>fe(...k(t.minDate,s,h))||re(...k(t.minDate,s,h)),K=(s,h)=>me(...k(t.maxDate,s,h))||re(...k(t.maxDate,s,h)),_=(s,h,l)=>{let w=!1;return t.maxDate&&l&&K(s,h)&&(w=!0),t.minDate&&!l&&j(s,h)&&(w=!0),w};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:P,getZonedToUtc:O,formatDate:g,getDefaultPattern:m,validateDate:Y,getDefaultStartTime:f,isDisabled:$,isValidDate:X,sanitizeDate:I,getWeekFromDate:z,matchDate:E,setDateMonthOrYear:D,isValidTime:U,getCalendarDays:H,validateMonthYearInRange:(s,h,l,w)=>{let R=!1;return w?t.minDate&&t.maxDate?R=_(s,h,l):(t.minDate&&j(s,h)||t.maxDate&&K(s,h))&&(R=!0):R=!0,R},validateMaxDate:K,validateMinDate:j,assignDefaultTime:S,defaults:a,hideNavigationButtons:B}},oe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),st=e.ref(null),We=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),ut=e.ref(!1),pe=e.ref(0),de=e.ref(0),$e=()=>{const t=e.computed(()=>We.value?[...oe.selectionGrid,oe.actionRow].filter(E=>E.length):it.value?[...oe.timePicker[0],...oe.timePicker[1],ut.value?[]:[st.value],oe.actionRow].filter(E=>E.length):ct.value?[...oe.monthPicker,oe.actionRow]:[oe.monthYear,...oe.calendar,oe.time,oe.actionRow].filter(E=>E.length)),r=E=>{pe.value=E?pe.value+1:pe.value-1;let D=null;t.value[de.value]&&(D=t.value[de.value][pe.value]),D||(pe.value=E?pe.value-1:pe.value+1)},a=E=>{if(de.value===0&&!E||de.value===t.value.length&&E)return;de.value=E?de.value+1:de.value-1,t.value[de.value]?t.value[de.value]&&!t.value[de.value][pe.value]&&pe.value!==0&&(pe.value=t.value[de.value].length-1):de.value=E?de.value-1:de.value+1},n=E=>{let D=null;t.value[de.value]&&(D=t.value[de.value][pe.value]),D?D.focus({preventScroll:!We.value}):pe.value=E?pe.value-1:pe.value+1},i=()=>{r(!0),n(!0)},m=()=>{r(!1),n(!1)},g=()=>{a(!1),n(!0)},P=()=>{a(!0),n(!0)},O=(E,D)=>{oe[D]=E},B=(E,D)=>{oe[D]=E},Y=()=>{pe.value=0,de.value=0};return{buildMatrix:O,buildMultiLevelMatrix:B,setTimePickerBackRef:E=>{st.value=E},setSelectionGrid:E=>{We.value=E,Y(),E||(oe.selectionGrid=[])},setTimePicker:(E,D=!1)=>{it.value=E,ut.value=D,Y(),E||(oe.timePicker[0]=[],oe.timePicker[1]=[])},setTimePickerElements:(E,D=0)=>{oe.timePicker[D]=E},arrowRight:i,arrowLeft:m,arrowUp:g,arrowDown:P,clearArrowNav:()=>{oe.monthYear=[],oe.calendar=[],oe.time=[],oe.actionRow=[],oe.selectionGrid=[],oe.timePicker[0]=[],oe.timePicker[1]=[],We.value=!1,it.value=!1,ut.value=!1,ct.value=!1,Y(),st.value=null},setMonthPicker:E=>{ct.value=E,Y()},refSets:oe}},Ut=t=>Array.isArray(t),Pe=t=>Array.isArray(t),Ht=t=>Array.isArray(t)&&t.length===2,Rn=(t,r,a,n,i)=>{const{getDefaultStartTime:m,isDisabled:g,sanitizeDate:P,getWeekFromDate:O,setDateMonthOrYear:B,validateMonthYearInRange:Y,defaults:S}=we(t),f=e.computed({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",c)}}),$=e.ref([]);e.watch(f,()=>{F()});const X=e.toRef(t,"multiCalendars");e.watch(X,()=>{Te(0)});const I=e.ref([{month:u.getMonth(C()),year:u.getYear(C())}]),z=e.reactive({hours:t.range?[u.getHours(C()),u.getHours(C())]:u.getHours(C()),minutes:t.range?[u.getMinutes(C()),u.getMinutes(C())]:u.getMinutes(C()),seconds:t.range?[0,0]:0}),E=e.computed(()=>c=>I.value[c]?I.value[c].month:0),D=e.computed(()=>c=>I.value[c]?I.value[c].year:0),G=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?i.value===t.flow.length:!0),q=(c,M,Z)=>{var d,v;I.value[c]||(I.value[c]={month:0,year:0}),I.value[c].month=M===null?(d=I.value[c])==null?void 0:d.month:M,I.value[c].year=Z===null?(v=I.value[c])==null?void 0:v.year:Z},x=(c,M)=>{z[c]=M};e.onMounted(()=>{f.value||(t.startDate&&(q(0,u.getMonth(C(t.startDate)),u.getYear(C(t.startDate))),S.value.multiCalendars&&Te(0)),S.value.startTime&&_()),F(!0)});const F=(c=!1)=>{if(f.value)return Array.isArray(f.value)?($.value=f.value,T(c)):N(f.value);if(t.timePicker)return H();if(t.monthPicker&&!t.range)return k();if(t.yearPicker&&!t.range)return j();if(S.value.multiCalendars&&c&&!t.startDate)return ne(C(),c)},ne=(c,M=!1)=>{if((!S.value.multiCalendars||!t.multiStatic||M)&&q(0,u.getMonth(c),u.getYear(c)),S.value.multiCalendars)for(let Z=1;Z<S.value.multiCalendars;Z++){const d=u.set(C(),{month:E.value(Z-1),year:D.value(Z-1)}),v=u.add(d,{months:1});I.value[Z]={month:u.getMonth(v),year:u.getYear(v)}}},N=c=>{ne(c),x("hours",u.getHours(c)),x("minutes",u.getMinutes(c)),x("seconds",u.getSeconds(c))},A=(c,M)=>{ne(c[0],M);const Z=(d,v)=>[d(c[0]),c[1]?d(c[1]):z[v][1]];x("hours",Z(u.getHours,"hours")),x("minutes",Z(u.getMinutes,"minutes")),x("seconds",Z(u.getSeconds,"seconds"))},U=(c,M)=>{if((t.range||t.weekPicker)&&!t.multiDates)return A(c,M);if(t.multiDates){const Z=c[c.length-1];return N(Z)}},T=c=>{const M=f.value;U(M,c),S.value.multiCalendars&&t.multiCalendarsSolo&&s()},H=()=>{if(_(),!t.range)f.value=De(C(),z.hours,z.minutes,K());else{const c=z.hours,M=z.minutes;f.value=[De(C(),c[0],M[0],K()),De(C(),c[1],M[1],K(!1))]}},k=()=>{t.multiDates?f.value=[B(C(),E.value(0),D.value(0))]:f.value=B(C(),E.value(0),D.value(0))},j=()=>{f.value=C()},K=(c=!0)=>t.enableSeconds?Array.isArray(z.seconds)?c?z.seconds[0]:z.seconds[1]:z.seconds:0,_=()=>{const c=m();if(c){const M=Array.isArray(c),Z=M?[+c[0].hours,+c[1].hours]:+c.hours,d=M?[+c[0].minutes,+c[1].minutes]:+c.minutes,v=M?[+c[0].seconds,+c[1].seconds]:+c.seconds;x("hours",Z),x("minutes",d),t.enableSeconds&&x("seconds",v)}},o=()=>Array.isArray(f.value)&&f.value.length?f.value[f.value.length-1]:null,s=()=>{if(Array.isArray(f.value)&&f.value.length===2){const c=C(C(f.value[1]?f.value[1]:u.addMonths(f.value[0],1))),[M,Z]=[u.getMonth(f.value[0]),u.getYear(f.value[0])],[d,v]=[u.getMonth(f.value[1]),u.getYear(f.value[1])];(M!==d||M===d&&Z!==v)&&t.multiCalendarsSolo&&q(1,u.getMonth(c),u.getYear(c))}},h=c=>{const M=u.addMonths(c,1);return{month:u.getMonth(M),year:u.getYear(M)}},l=c=>{const M=u.getMonth(C(c)),Z=u.getYear(C(c));if(q(0,M,Z),S.value.multiCalendars>0)for(let d=1;d<S.value.multiCalendars;d++){const v=h(u.set(C(c),{year:E.value(d-1),month:D.value(d-1)}));q(d,v.month,v.year)}},w=c=>{if(f.value&&Array.isArray(f.value))if(f.value.some(M=>re(c,M))){const M=f.value.filter(Z=>!re(Z,c));f.value=M.length?M:null}else(t.multiDatesLimit&&+t.multiDatesLimit>f.value.length||!t.multiDatesLimit)&&f.value.push(c);else f.value=[c]},R=(c,M)=>{const Z=me(c,M)?M:c,d=me(M,c)?M:c;return u.eachDayOfInterval({start:Z,end:d})},V=(c,M=0)=>{if(Array.isArray(f.value)&&f.value[M]){const Z=u.differenceInCalendarDays(c,f.value[M]),d=R(f.value[M],c),v=d.length===1?0:d.filter(ie=>g(ie)).length,se=Math.abs(Z)-v;if(t.minRange&&t.maxRange)return se>=+t.minRange&&se<=+t.maxRange;if(t.minRange)return se>=+t.minRange;if(t.maxRange)return se<=+t.maxRange}return!0},p=c=>Array.isArray(f.value)&&f.value.length===2?t.fixedStart&&(me(c,f.value[0])||re(c,f.value[0]))?[f.value[0],c]:t.fixedEnd&&(fe(c,f.value[1])||re(c,f.value[1]))?[c,f.value[1]]:(r("invalid-fixed-range",c),f.value):[],b=()=>{t.autoApply&&G.value&&r("auto-apply",t.partialFlow)},y=()=>{t.autoApply&&r("select-date")},L=c=>!u.eachDayOfInterval({start:c[0],end:c[1]}).some(Z=>g(Z)),ee=c=>(f.value=O(C(c.value)),b()),ge=c=>{const M=De(C(c.value),z.hours,z.minutes,K());t.multiDates?w(M):f.value=M,a(),b()},Se=()=>{$.value=f.value?f.value.slice():[],$.value.length===2&&!(t.fixedStart||t.fixedEnd)&&($.value=[])},Q=(c,M)=>{const Z=[C(c.value),u.addDays(C(c.value),+t.autoRange)];L(Z)&&(M&&l(c.value),$.value=Z)},Ne=c=>{Me(c.value)||!V(c.value,t.fixedStart?0:1)||($.value=p(C(c.value)))},Me=c=>t.noDisabledRange?R($.value[0],c).some(Z=>g(Z)):!1,he=(c,M)=>{if(Se(),t.autoRange)return Q(c,M);if(t.fixedStart||t.fixedEnd)return Ne(c);$.value[0]?V(C(c.value))&&!Me(c.value)&&(fe(C(c.value),C($.value[0]))?$.value.unshift(C(c.value)):$.value[1]=C(c.value)):$.value[0]=C(c.value)},Ve=c=>{$.value[c]=De($.value[c],z.hours[c],z.minutes[c],K(c!==1))},J=()=>{$.value.length&&($.value[0]&&!$.value[1]?Ve(0):(Ve(0),Ve(1),a()),f.value=$.value.slice(),$.value[0]&&$.value[1]&&t.autoApply&&r("auto-apply"),$.value[0]&&!$.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},ae=(c,M=!1)=>{if(!(g(c.value)||!c.current&&t.hideOffsetDates)){if(t.weekPicker)return ee(c);if(!t.range)return ge(c);Pe(z.hours)&&Pe(z.minutes)&&!t.multiDates&&(he(c,M),J())}},le=c=>{const M=c[0];return t.weekNumbers==="local"?u.getWeek(M.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?u.getISOWeek(M.value):typeof t.weekNumbers=="function"?t.weekNumbers(M.value):""},Te=c=>{for(let M=c-1;M>=0;M--){const Z=u.subMonths(u.set(C(),{month:E.value(M+1),year:D.value(M+1)}),1);q(M,u.getMonth(Z),u.getYear(Z))}for(let M=c+1;M<=S.value.multiCalendars-1;M++){const Z=u.addMonths(u.set(C(),{month:E.value(M-1),year:D.value(M-1)}),1);q(M,u.getMonth(Z),u.getYear(Z))}},ke=c=>B(C(),E.value(c),D.value(c)),Ze=c=>De(c,z.hours,z.minutes,K()),yt=c=>{w(ke(c))},pt=(c,M)=>{const Z=t.monthPicker?E.value(c)!==M.month||!M.fromNav:D.value(c)!==M.year||!M.fromNav;if(q(c,M.month,M.year),S.value.multiCalendars&&!t.multiCalendarsSolo&&Te(c),t.monthPicker||t.yearPicker)if(t.multiDates)Z&&yt(c);else if(t.range){if(Z&&V(ke(c))){let d=f.value?f.value.slice():[];d.length===2&&d[1]!==null&&(d=[]),d.length?fe(ke(c),d[0])?d.unshift(ke(c)):d[1]=ke(c):d=[ke(c)],f.value=d}}else f.value=ke(c);r("update-month-year",{instance:c,month:M.month,year:M.year}),n(t.multiCalendarsSolo?c:void 0)},gt=async(c=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const M=t.monthPicker?c:!1;t.range?r("auto-apply",M||!f.value||f.value.length===1):r("auto-apply",M)}a()},qe=(c,M)=>{const Z=u.set(C(),{month:E.value(M),year:D.value(M)}),d=c<0?u.addMonths(Z,1):u.subMonths(Z,1);Y(u.getMonth(d),u.getYear(d),c<0,t.preventMinMaxNavigation)&&(q(M,u.getMonth(d),u.getYear(d)),S.value.multiCalendars&&!t.multiCalendarsSolo&&Te(M),r("update-month-year",{instance:M,month:u.getMonth(d),year:u.getYear(d)}),n())},Ie=c=>{Ut(c)&&Ut(f.value)&&Pe(z.hours)&&Pe(z.minutes)?(c[0]&&f.value[0]&&(f.value[0]=De(c[0],z.hours[0],z.minutes[0],K())),c[1]&&f.value[1]&&(f.value[1]=De(c[1],z.hours[1],z.minutes[1],K(!1)))):t.multiDates&&Array.isArray(f.value)?f.value[f.value.length-1]=Ze(c):!t.range&&!Ht(c)&&(f.value=Ze(c)),r("time-update")},ht=(c,M=!0,Z=!1)=>{const d=M?c:z.hours,v=!M&&!Z?c:z.minutes,se=Z?c:z.seconds;if(t.range&&Ht(f.value)&&Pe(d)&&Pe(v)&&Pe(se)&&!t.disableTimeRangeValidation){const ie=W=>De(f.value[W],d[W],v[W],se[W]),Ce=W=>u.setMilliseconds(f.value[W],0);if(re(f.value[0],f.value[1])&&(u.isAfter(ie(0),Ce(1))||u.isBefore(ie(1),Ce(0))))return}if(x("hours",d),x("minutes",v),x("seconds",se),f.value)if(t.multiDates){const ie=o();ie&&Ie(ie)}else Ie(f.value);else t.timePicker&&Ie(t.range?[C(),C()]:C());a()},kt=(c,M)=>{t.monthChangeOnScroll&&qe(t.monthChangeOnScroll!=="inverse"?-c.deltaY:c.deltaY,M)},wt=(c,M,Z=!1)=>{t.monthChangeOnArrows&&t.vertical===Z&&Xe(c,M)},Xe=(c,M)=>{qe(c==="right"?-1:1,M)};return{time:z,month:E,year:D,modelValue:f,calendars:I,monthYearSelect:gt,isDisabled:g,updateTime:ht,getWeekNum:le,selectDate:ae,updateMonthYear:pt,handleScroll:kt,getMarker:c=>t.markers.find(M=>re(P(c.value),P(M.date))),handleArrow:wt,handleSwipe:Xe,selectCurrentDate:()=>{t.range?f.value&&Array.isArray(f.value)&&f.value[0]?f.value=fe(C(),f.value[0])?[C(),f.value[0]]:[f.value[0],C()]:f.value=[C()]:f.value=C(),y()},presetDateRange:(c,M)=>{M||c.length&&c.length<=2&&t.range&&(f.value=c.map(Z=>C(Z)),y(),t.multiCalendars&&e.nextTick().then(()=>F(!0)))}}},vn=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:i,getZonedDate:m,formatDate:g,getDefaultPattern:P,checkRangeEnabled:O,checkPartialRangeValue:B,isValidDate:Y,setDateMonthOrYear:S,defaults:f}=we(r),$=e.ref(""),X=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(X,()=>{s()});const I=y=>{const L=y||C();return r.modelType?l(L):{hours:u.getHours(L),minutes:u.getMinutes(L),seconds:r.enableSeconds?u.getSeconds(L):0}},z=y=>r.modelType?l(y):{month:u.getMonth(y),year:u.getYear(y)},E=y=>Array.isArray(y)?O(()=>[u.setYear(C(),y[0]),y[1]?u.setYear(C(),y[1]):B()]):u.setYear(C(),+y),D=(y,L)=>(typeof y=="string"||typeof y=="number")&&r.modelType?h(y):L,G=y=>Array.isArray(y)?[D(y[0],De(null,+y[0].hours,+y[0].minutes,y[0].seconds)),D(y[1],De(null,+y[1].hours,+y[1].minutes,y[1].seconds))]:D(y,De(null,y.hours,y.minutes,y.seconds)),q=y=>Array.isArray(y)?r.multiDates?y.map(L=>D(L,S(null,+L.month,+L.year))):O(()=>[D(y[0],S(null,+y[0].month,+y[0].year)),D(y[1],y[1]?S(null,+y[1].month,+y[1].year):B())]):D(y,S(null,+y.month,+y.year)),x=y=>{if(Array.isArray(y))return y.map(L=>h(L));throw new Error(He.dateArr("multi-dates"))},F=y=>{if(Array.isArray(y))return[C(y[0]),C(y[1])];throw new Error(He.dateArr("week-picker"))},ne=y=>r.modelAuto?Array.isArray(y)?[h(y[0]),h(y[1])]:r.autoApply?[h(y)]:[h(y),null]:Array.isArray(y)?O(()=>[h(y[0]),y[1]?h(y[1]):B()]):h(y),N=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(B())},A=()=>{const y=n.value;return[l(y[0]),y[1]?l(y[1]):B()]},U=()=>n.value[1]?A():l(ue(n.value[0])),T=()=>(n.value||[]).map(y=>l(y)),H=()=>(N(),r.modelAuto?U():r.multiDates?T():Array.isArray(n.value)?O(()=>A()):l(ue(n.value))),k=y=>y?r.timePicker?G(ue(y)):r.monthPicker?q(ue(y)):r.yearPicker?E(ue(y)):r.multiDates?x(ue(y)):r.weekPicker?F(ue(y)):ne(ue(y)):null,j=y=>{const L=k(y);Y(ue(L))?(n.value=ue(L),s()):(n.value=null,$.value="")},K=()=>{var L;const y=ee=>{var ge;return u.format(ee,(ge=f.value.textInputOptions)==null?void 0:ge.format)};return`${y(n.value[0])} ${(L=f.value.textInputOptions)==null?void 0:L.rangeSeparator} ${n.value[1]?y(n.value[1]):""}`},_=()=>{var y;return a.value&&n.value?Array.isArray(n.value)?K():u.format(n.value,(y=f.value.textInputOptions)==null?void 0:y.format):g(n.value)},o=()=>{var y;return n.value?r.multiDates?n.value.map(L=>g(L)).join("; "):r.textInput&&typeof((y=f.value.textInputOptions)==null?void 0:y.format)=="string"?_():g(n.value):""},s=()=>{!r.format||typeof r.format=="string"?$.value=o():$.value=r.format(n.value)},h=y=>{if(r.utc){const L=new Date(y);return r.utc==="preserve"?new Date(L.getTime()+L.getTimezoneOffset()*6e4):L}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?m(new Date(y)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u.parse(y,P(),new Date):m(u.parse(y,r.modelType,new Date)):m(new Date(y))},l=y=>y?r.utc?Zt(y,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+i(y):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?g(i(y)):g(i(y),r.modelType):i(y):"",w=y=>{t("update:model-value",y)},R=y=>Array.isArray(n.value)?r.multiDates?n.value.map(L=>y(L)):[y(n.value[0]),n.value[1]?y(n.value[1]):B()]:y(ue(n.value)),V=y=>w(ue(R(y)));return{inputValue:$,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:j,formatInputValue:s,emitModelValue:()=>(s(),r.monthPicker?V(z):r.timePicker?V(I):r.yearPicker?V(u.getYear):r.weekPicker?w(n.value):w(H()))}},On=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:i,defaults:m}=we(t),g=(S,f)=>{let $=S;return m.value.filters.months.includes(u.getMonth($))?($=f?u.addMonths(S,1):u.subMonths(S,1),g($,f)):$},P=(S,f)=>{let $=S;return m.value.filters.years.includes(u.getYear($))?($=f?u.addYears(S,1):u.subYears(S,1),P($,f)):$},O=S=>{const f=u.set(new Date,{month:t.month,year:t.year});let $=S?u.addMonths(f,1):u.subMonths(f,1),X=u.getMonth($),I=u.getYear($);m.value.filters.months.includes(X)&&($=g($,S),X=u.getMonth($),I=u.getYear($)),m.value.filters.years.includes(I)&&($=P($,S),I=u.getYear($)),a(X,I,S,t.preventMinMaxNavigation)&&B(X,I)},B=(S,f)=>{r("update-month-year",{month:S,year:f})},Y=e.computed(()=>S=>{if(!t.preventMinMaxNavigation||S&&!t.maxDate||!S&&!t.minDate)return!1;const f=u.set(new Date,{month:t.month,year:t.year}),$=S?u.addMonths(f,1):u.subMonths(f,1),X=[u.getMonth($),u.getYear($)];return S?!n(...X):!i(...X)});return{handleMonthYearChange:O,isDisabled:Y,updateMonthYear:B}};var je=(t=>(t.center="center",t.left="left",t.right="right",t))(je||{});const Yn=(t,r,a,n)=>{const i=e.ref({top:"0",left:"0",transform:"none"}),m=e.ref(!1),g=e.toRef(n,"teleportCenter");e.watch(g,()=>{I()});const P=N=>{if(n.teleport){const A=N.getBoundingClientRect();return{left:A.left+window.scrollX,top:A.top+window.scrollY}}return{top:0,left:0}},O=(N,A)=>{i.value.left=`${N+A}px`,i.value.transform="translateX(-100%)"},B=N=>{i.value.left=`${N}px`,i.value.transform="translateX(0)"},Y=(N,A,U=!1)=>{n.position===je.left&&B(N),n.position===je.right&&O(N,A),n.position===je.center&&(i.value.left=`${N+A/2}px`,i.value.transform=U?"translate(-50%, -50%)":"translateX(-50%)")},S=N=>{const{width:A,height:U}=N.getBoundingClientRect(),{top:T,left:H}=n.altPosition?n.altPosition(N):P(N);return{top:+T,left:+H,width:A,height:U}},f=()=>{const N=ce(r);if(N){const{top:A,left:U,width:T,height:H}=S(N);i.value.top=`${A+H/2}px`,i.value.transform="translateY(-50%)",Y(U,T,!0)}},$=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},X=()=>{const N=ce(r),{top:A,left:U,transform:T}=n.altPosition(N);i.value={top:`${A}px`,left:`${U}px`,transform:T||""}},I=(N=!0)=>{if(!n.inline)return g.value?$():n.altPosition!==null?X():(N&&a("recalculate-position"),x())},z=({inputEl:N,menuEl:A,left:U,width:T})=>{window.screen.width>768&&Y(U,T),G(N,A)},E=(N,A)=>{const{top:U,left:T,height:H,width:k}=S(N);i.value.top=`${H+U+ +n.offset}px`,z({inputEl:N,menuEl:A,left:T,width:k}),m.value=!1},D=(N,A)=>{const{top:U,left:T,width:H}=S(N),{height:k}=A.getBoundingClientRect();i.value.top=`${U-k-+n.offset}px`,z({inputEl:N,menuEl:A,left:T,width:H}),m.value=!0},G=(N,A)=>{if(n.autoPosition){const{left:U,width:T}=S(N),{left:H,right:k}=A.getBoundingClientRect();return H<=0||H<=U?B(U):k>=document.documentElement.clientWidth?O(U,T):Y(U,T)}},q=(N,A)=>{const{height:U}=A.getBoundingClientRect(),{top:T,height:H}=N.getBoundingClientRect(),j=window.innerHeight-T-H,K=T;return U<=j?E(N,A):U>j&&U<=K?D(N,A):j>=K?E(N,A):D(N,A)},x=()=>{const N=ce(r),A=ce(t);if(N&&A)return n.autoPosition?q(N,A):E(N,A)},F=function(N){if(N){const A=N.scrollHeight>N.clientHeight,T=window.getComputedStyle(N).overflowY.indexOf("hidden")!==-1;return A&&!T}return!0},ne=function(N){return!N||N===document.body||N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(N)?N:ne(N.parentNode)};return{openOnTop:m,menuPosition:i,setMenuPosition:I,setInitialPosition:f,getScrollableParent:ne}},_e=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],In=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ln={all:()=>_e,monthYear:()=>_e.filter(t=>t.use.includes("month-year")),input:()=>In,timePicker:()=>_e.filter(t=>t.use.includes("time")),action:()=>_e.filter(t=>t.use.includes("action")),calendar:()=>_e.filter(t=>t.use.includes("calendar")),menu:()=>_e.filter(t=>t.use.includes("menu"))},Ae=(t,r,a)=>{const n=[];return Ln[r]().forEach(i=>{t[i.name]&&n.push(i.name)}),a&&a.length&&a.forEach(i=>{i.slot&&n.push(i.slot)}),n},Ge=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Be={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},zn=["aria-label","aria-disabled","aria-readonly"],xn={key:1,class:"dp__input_wrap"},Kn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Un={key:2,class:"dp__input_icon"},Hn={key:4,class:"dp__clear_icon"},Wn=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Be},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:i,isValidDate:m,defaults:g,getDefaultStartTime:P,assignDefaultTime:O}=we(n),B=e.ref(),Y=e.ref(null),S=e.ref(!1),f=e.ref(!1),$=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:S.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),X=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),B.value=null)},I=k=>{var K;const j=P();return Gt(k,((K=g.value.textInputOptions)==null?void 0:K.format)||i(),j||O({}),n.inputValue,f.value)},z=k=>{const{rangeSeparator:j}=g.value.textInputOptions,[K,_]=k.split(`${j}`);if(K){const o=I(K.trim()),s=_?I(_.trim()):null,h=o&&s?[o,s]:[o];B.value=o?h:null}},E=()=>{f.value=!0},D=k=>{if(n.range)z(k);else if(n.multiDates){const j=k.split(";");B.value=j.map(K=>I(K.trim())).filter(K=>K)}else B.value=I(k)},G=k=>{var K;const{value:j}=k.target;j!==""?((K=g.value.textInputOptions)!=null&&K.openMenu&&!n.isMenuOpen&&a("open"),D(j),a("set-input-date",B.value)):X(),f.value=!1,a("update:input-value",j)},q=()=>{var k,j;(k=g.value.textInputOptions)!=null&&k.enterSubmit&&m(B.value)&&n.inputValue!==""?(a("set-input-date",B.value,!0),B.value=null):(j=g.value.textInputOptions)!=null&&j.enterSubmit&&n.inputValue===""&&(B.value=null,a("clear"))},x=()=>{var k,j;(k=g.value.textInputOptions)!=null&&k.tabSubmit&&m(B.value)&&n.inputValue!==""?(a("set-input-date",B.value,!0),B.value=null):(j=g.value.textInputOptions)!=null&&j.tabSubmit&&n.inputValue===""&&(B.value=null,a("clear"))},F=()=>{S.value=!0,a("focus")},ne=k=>{var j;k.preventDefault(),k.stopImmediatePropagation(),k.stopPropagation(),n.textInput&&((j=g.value.textInputOptions)!=null&&j.openMenu)&&!n.inlineWithInput?n.isMenuOpen?g.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},N=()=>{S.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&B.value&&(a("set-input-date",B.value),a("select-date"),B.value=null)},A=()=>{a("clear")},U=k=>{if(!n.textInput){if(k.code==="Tab")return;k.preventDefault()}};return r({focusInput:()=>{Y.value&&Y.value.focus({preventScroll:!0})},setParsedDate:k=>{B.value=k}}),(k,j)=>{var K;return e.openBlock(),e.createElementBlock("div",{onClick:ne,"aria-label":(K=e.unref(g).ariaLabels)==null?void 0:K.input,role:"textbox","aria-multiline":"false","aria-disabled":k.disabled,"aria-readonly":k.readonly},[k.$slots.trigger&&!k.$slots["dp-input"]&&!k.inline?e.renderSlot(k.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!k.$slots.trigger&&(!k.inline||k.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",xn,[k.$slots["dp-input"]&&!k.$slots.trigger&&!k.inline?e.renderSlot(k.$slots,"dp-input",{key:0,value:t.inputValue,onInput:G,onEnter:q,onTab:x,onClear:A,onBlur:N}):e.createCommentVNode("",!0),k.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:Y,id:k.uid?`dp-input-${k.uid}`:void 0,name:k.name,class:e.normalizeClass(e.unref($)),inputmode:k.textInput?"text":"none",placeholder:k.placeholder,disabled:k.disabled,readonly:k.readonly,required:k.required,value:t.inputValue,autocomplete:k.autocomplete,onInput:G,onKeydown:[e.withKeys(ne,["enter"]),e.withKeys(x,["tab"]),U],onBlur:N,onFocus:F,onKeypress:U,onPaste:E},null,42,Kn)),k.$slots["input-icon"]&&!k.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Un,[e.renderSlot(k.$slots,"input-icon")])):e.createCommentVNode("",!0),!k.$slots["input-icon"]&&!k.hideInputIcon&&!k.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),k.$slots["clear-icon"]&&t.inputValue&&k.clearable&&!k.disabled&&!k.readonly?(e.openBlock(),e.createElementBlock("span",Hn,[e.renderSlot(k.$slots,"clear-icon",{clear:A})])):e.createCommentVNode("",!0),k.clearable&&!k.$slots["clear-icon"]&&t.inputValue&&!k.disabled&&!k.readonly?(e.openBlock(),e.createBlock(e.unref(jt),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(A,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,zn)}}}),jn=["title"],Gn={class:"dp__action_buttons"},Zn=["onKeydown","disabled"],qn=e.defineComponent({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Be},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:i,defaults:m}=we(a),{buildMatrix:g}=$e(),P=e.ref(null),O=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&g([ce(P),ce(O)],"actionRow")});const B=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),Y=e.computed(()=>!S.value||!f.value||!B.value),S=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:i(a.internalModelValue)),f=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(G=>!z(G)).length:z(a.internalModelValue):!0),$=()=>{const D=m.value.previewFormat;return a.timePicker||a.monthPicker,D(ue(a.internalModelValue))},X=()=>{const D=a.internalModelValue;return m.value.multiCalendars>0?`${n(D[0])} - ${n(D[1])}`:[n(D[0]),n(D[1])]},I=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof m.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?X():a.multiDates?a.internalModelValue.map(D=>`${n(D)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):$()),z=D=>{if(!a.monthPicker)return!0;let G=!0;const q=C(ve(D));if(a.minDate&&a.maxDate){const x=C(ve(a.minDate)),F=C(ve(a.maxDate));return me(q,x)&&fe(q,F)||re(q,x)||re(q,F)}if(a.minDate){const x=C(ve(a.minDate));G=me(q,x)||re(q,x)}if(a.maxDate){const x=C(ve(a.maxDate));G=fe(q,x)||re(q,x)}return G},E=()=>{S.value&&f.value&&B.value?r("select-date"):r("invalid-select")};return(D,G)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[D.$slots["action-row"]?e.renderSlot(D.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(Y),selectDate:()=>D.$emit("select-date"),closePicker:()=>D.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__selection_preview",title:Array.isArray(e.unref(I))?"":e.unref(I)},[D.$slots["action-preview"]?e.renderSlot(D.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),D.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(I))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(I)),1)],64)),Array.isArray(e.unref(I))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(I),(q,x)=>(e.openBlock(),e.createElementBlock("div",{key:x},e.toDisplayString(q),1))),128)):e.createCommentVNode("",!0)],64))],8,jn),e.createElementVNode("div",Gn,[D.$slots["action-select"]?e.renderSlot(D.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),D.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[D.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:P,class:"dp__action_button dp__action_cancel",onClick:G[0]||(G[0]=q=>D.$emit("close-picker")),onKeydown:[G[1]||(G[1]=e.withKeys(q=>D.$emit("close-picker"),["enter"])),G[2]||(G[2]=e.withKeys(q=>D.$emit("close-picker"),["space"]))]},e.toDisplayString(D.cancelText),545)),e.createElementVNode("button",{class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(E,["enter"]),e.withKeys(E,["space"])],onClick:E,disabled:e.unref(Y),"data-test":"select-button",ref_key:"selectButtonRef",ref:O},e.toDisplayString(D.selectText),41,Zn)],64))])],64))],4))}}),Xn=["aria-label"],Jn={class:"dp__calendar_header",role:"row"},Qn={key:0,class:"dp__calendar_header_item",role:"gridcell"},Fn=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),er=["aria-label"],tr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},nr={class:"dp__cell_inner"},rr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],ar=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Be},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:i}=$e(),{setDateMonthOrYear:m,defaults:g}=we(n),P=e.ref(null),O=e.ref({bottom:"",left:"",transform:""}),B=e.ref([]),Y=e.ref(null),S=e.ref(!0),f=e.ref(""),$=e.ref({startX:0,endX:0,startY:0,endY:0}),X=e.ref([]),I=e.ref({left:"50%"}),z=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Cn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:B}),n.noSwipe||Y.value&&(Y.value.addEventListener("touchstart",T,{passive:!1}),Y.value.addEventListener("touchend",H,{passive:!1}),Y.value.addEventListener("touchmove",k,{passive:!1})),n.monthChangeOnScroll&&Y.value&&Y.value.addEventListener("wheel",_,{passive:!1})});const E=o=>o?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",D=(o,s)=>{if(n.transitions){const h=be(m(C(),n.month,n.year));f.value=me(be(m(C(),o,s)),h)?g.value.transitions[E(!0)]:g.value.transitions[E(!1)],S.value=!1,e.nextTick(()=>{S.value=!0})}},G=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),q=e.computed(()=>o=>{const s=Nn(o);return{dp__marker_dot:s.type==="dot",dp__marker_line:s.type==="line"}}),x=e.computed(()=>o=>re(o,P.value)),F=e.computed(()=>({dp__calendar:!0,dp__calendar_next:g.value.multiCalendars>0&&n.instance!==0})),ne=e.computed(()=>o=>n.hideOffsetDates?o.current:!0),N=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),A=async(o,s,h)=>{var l,w;if(a("set-hover-date",o),(w=(l=o.marker)==null?void 0:l.tooltip)!=null&&w.length){const R=ce(B.value[s][h]);if(R){const{width:V,height:p}=R.getBoundingClientRect();P.value=o.value;let b={left:`${V/2}px`},y=-50;if(await e.nextTick(),X.value[0]){const{left:L,width:ee}=X.value[0].getBoundingClientRect();L<0&&(b={left:"0"},y=0,I.value.left=`${V/2}px`),window.innerWidth<L+ee&&(b={right:"0"},y=0,I.value.left=`${ee-V/2}px`)}O.value={bottom:`${p}px`,...b,transform:`translateX(${y}%)`},a("tooltip-open",o.marker)}}},U=o=>{P.value&&(P.value=null,O.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",o.marker))},T=o=>{$.value.startX=o.changedTouches[0].screenX,$.value.startY=o.changedTouches[0].screenY},H=o=>{$.value.endX=o.changedTouches[0].screenX,$.value.endY=o.changedTouches[0].screenY,j()},k=o=>{n.vertical&&!n.inline&&o.preventDefault()},j=()=>{const o=n.vertical?"Y":"X";Math.abs($.value[`start${o}`]-$.value[`end${o}`])>10&&a("handle-swipe",$.value[`start${o}`]>$.value[`end${o}`]?"right":"left")},K=(o,s,h)=>{o&&(Array.isArray(B.value[s])?B.value[s][h]=o:B.value[s]=[o]),n.arrowNavigation&&i(B.value,"calendar")},_=o=>{n.monthChangeOnScroll&&(o.preventDefault(),a("handle-scroll",o))};return r({triggerTransition:D}),(o,s)=>{var h;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(F))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(N))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:Y,class:e.normalizeClass(e.unref(G)),role:"grid","aria-label":(h=e.unref(g).ariaLabels)==null?void 0:h.calendarWrap},[e.createElementVNode("div",Jn,[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",Qn,e.toDisplayString(o.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(z),(l,w)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:w,"data-test":"calendar-header"},[o.$slots["calendar-header"]?e.renderSlot(o.$slots,"calendar-header",{key:0,day:l,index:w}):e.createCommentVNode("",!0),o.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),Fn,e.createVNode(e.Transition,{name:f.value,css:!!o.transitions},{default:e.withCtx(()=>{var l;return[S.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(g).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(w,R)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:R},[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",tr,[e.createElementVNode("div",nr,e.toDisplayString(t.getWeekNum(w.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.days,(V,p)=>{var b,y,L;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:ee=>K(ee,R,p),key:p+R,"aria-selected":V.classData.dp__active_date||V.classData.dp__range_start||V.classData.dp__range_start,"aria-disabled":V.classData.dp__cell_disabled,"aria-label":(y=(b=e.unref(g).ariaLabels)==null?void 0:b.day)==null?void 0:y.call(b,V),tabindex:"0","data-test":V.value,onClick:e.withModifiers(ee=>o.$emit("select-date",V),["stop","prevent"]),onKeydown:[e.withKeys(ee=>o.$emit("select-date",V),["enter"]),e.withKeys(ee=>o.$emit("handle-space",V),["space"])],onMouseenter:ee=>A(V,R,p),onMouseleave:ee=>U(V)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",V.classData])},[o.$slots.day&&e.unref(ne)(V)?e.renderSlot(o.$slots,"day",{key:0,day:+V.text,date:V.value}):e.createCommentVNode("",!0),o.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(V.text),1)],64)),V.marker&&e.unref(ne)(V)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(q)(V.marker)),style:e.normalizeStyle(V.marker.color?{backgroundColor:V.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(x)(V.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:X,style:e.normalizeStyle(O.value)},[(L=V.marker)!=null&&L.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:s[0]||(s[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.marker.tooltip,(ee,ge)=>(e.openBlock(),e.createElementBlock("div",{key:ge,class:"dp__tooltip_text"},[o.$slots["marker-tooltip"]?e.renderSlot(o.$slots,"marker-tooltip",{key:0,tooltip:ee,day:V.value}):e.createCommentVNode("",!0),o.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(ee.color?{backgroundColor:ee.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(ee.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(I.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,rr)}),128))]))),128))],8,er)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Xn))],4)],2)}}}),lr=["aria-label","aria-disabled"],dt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,i)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=m=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=e.withKeys(m=>n.$emit("activate"),["enter"])),i[2]||(i[2]=e.withKeys(m=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,lr))}}),or=["onKeydown"],sr={class:"dp__selection_grid_header"},ir=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],cr=["aria-label","onKeydown"],Ye=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:i,buildMultiLevelMatrix:m,setMonthPicker:g}=$e(),{hideNavigationButtons:P}=we(n),O=e.ref(!1),B=e.ref(null),Y=e.ref(null),S=e.ref([]),f=e.ref(),$=e.ref(null),X=e.ref(0),I=e.ref(null);e.onBeforeUpdate(()=>{B.value=null}),e.onMounted(()=>{e.nextTick().then(()=>A()),E(),z(!0)}),e.onUnmounted(()=>z(!1));const z=_=>{var o;n.arrowNavigation&&((o=n.headerRefs)!=null&&o.length?g(_):i(_))},E=()=>{const _=ce(Y);_&&(n.textInput||_.focus({preventScroll:!0}),O.value=_.clientHeight<_.scrollHeight)},D=e.computed(()=>({dp__overlay:!0})),G=e.computed(()=>({dp__overlay_col:!0})),q=_=>n.skipActive?!1:_.value===n.modelValue,x=e.computed(()=>n.items.map(_=>_.filter(o=>o).map(o=>{var l,w,R;const s=n.disabledValues.some(V=>V===o.value)||N(o.value),h=(l=n.multiModelValue)!=null&&l.length?(w=n.multiModelValue)==null?void 0:w.some(V=>re(V,u.setYear(n.monthPicker?u.setMonth(new Date,o.value):new Date,n.monthPicker?n.year:o.value))):q(o);return{...o,className:{dp__overlay_cell_active:h,dp__overlay_cell:!h,dp__overlay_cell_disabled:s,dp__overlay_cell_active_disabled:s&&h,dp__overlay_cell_pad:!0,dp__cell_in_between:(R=n.multiModelValue)!=null&&R.length&&n.skipActive?T(o.value):!1}}}))),F=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:O.value,dp__button_bottom:n.autoApply})),ne=e.computed(()=>{var _,o;return{dp__overlay_container:!0,dp__container_flex:((_=n.items)==null?void 0:_.length)<=6,dp__container_block:((o=n.items)==null?void 0:o.length)>6}}),N=_=>{const o=n.maxValue||n.maxValue===0,s=n.minValue||n.minValue===0;return!o&&!s?!1:o&&s?+_>+n.maxValue||+_<+n.minValue:o?+_>+n.maxValue:s?+_<+n.minValue:!1},A=()=>{const _=ce(B),o=ce(Y),s=ce($),h=ce(I),l=s?s.getBoundingClientRect().height:0;o&&(X.value=o.getBoundingClientRect().height-l),_&&h&&(h.scrollTop=_.offsetTop-h.offsetTop-(X.value/2-_.getBoundingClientRect().height)-l)},U=_=>{!n.disabledValues.some(o=>o===_)&&!N(_)&&(a("update:model-value",_),a("selected"))},T=_=>{const o=n.monthPicker?n.year:_;return Tt(n.multiModelValue,u.setYear(n.monthPicker?u.setMonth(new Date,f.value||0):new Date,n.monthPicker?o:f.value||o),u.setYear(n.monthPicker?u.setMonth(new Date,_):new Date,o))},H=()=>{a("toggle"),a("reset-flow")},k=()=>{n.escClose&&H()},j=(_,o,s,h)=>{_&&(o.value===+n.modelValue&&!n.disabledValues.includes(o.value)&&(B.value=_),n.arrowNavigation&&(Array.isArray(S.value[s])?S.value[s][h]=_:S.value[s]=[_],K()))},K=()=>{var o,s;const _=(o=n.headerRefs)!=null&&o.length?[n.headerRefs].concat(S.value):S.value.concat([n.skipButtonRef?[]:[$.value]]);m(ue(_),(s=n.headerRefs)!=null&&s.length?"monthPicker":"selectionGrid")};return r({focusGrid:E}),(_,o)=>{var s;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:Y,class:e.normalizeClass(e.unref(D)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(k,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(ne)),ref_key:"containerRef",ref:I,role:"grid",style:e.normalizeStyle({height:`${X.value}px`})},[e.createElementVNode("div",sr,[e.renderSlot(_.$slots,"header")]),_.$slots.overlay?e.renderSlot(_.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(x),(h,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:e.unref(x).length>=3}]),key:l,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h,(w,R)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(G)),key:w.value,"aria-selected":w.value===t.modelValue&&!t.disabledValues.includes(w.value),"aria-disabled":w.className.dp__overlay_cell_disabled,ref_for:!0,ref:V=>j(V,w,l,R),tabindex:"0","data-test":w.text,onClick:V=>U(w.value),onKeydown:[e.withKeys(V=>U(w.value),["enter"]),e.withKeys(V=>U(w.value),["space"])],onMouseover:V=>f.value=w.value},[e.createElementVNode("div",{class:e.normalizeClass(w.className)},[_.$slots.item?e.renderSlot(_.$slots,"item",{key:0,item:w}):e.createCommentVNode("",!0),_.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64))],2)],42,ir))),128))],2))),128))],6),_.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(s=t.ariaLabels)==null?void 0:s.toggleOverlay,class:e.normalizeClass(e.unref(F)),tabindex:"0",ref_key:"toggleButton",ref:$,onClick:H,onKeydown:e.withKeys(H,["enter"])},[e.renderSlot(_.$slots,"button-icon")],42,cr)),[[e.vShow,!e.unref(P)(t.type)]]):e.createCommentVNode("",!0)],42,or)}}}),ur=["aria-label"],Wt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:i}=Ge(a.transitions),m=e.ref(null);return e.onMounted(()=>r("set-ref",m)),(g,P)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:P[0]||(P[0]=O=>g.$emit("toggle")),onKeydown:[P[1]||(P[1]=e.withKeys(O=>g.$emit("toggle"),["enter"])),P[2]||(P[2]=e.withKeys(O=>g.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:m},[e.renderSlot(g.$slots,"default")],40,ur),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(i)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":P[3]||(P[3]=O=>g.$emit("update:model-value",O)),onToggle:P[4]||(P[4]=O=>g.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[g.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:O})=>[e.renderSlot(g.$slots,t.slotName,{item:O})]),key:"0"}:void 0,g.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(g.$slots,t.overlaySlot)]),key:"1"}:void 0,g.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),dr={class:"dp__month_year_row"},fr={class:"dp__month_year_wrap"},mr={class:"dp__month_picker_header"},yr=["aria-label"],pr=["aria-label"],gr=["aria-label"],hr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:i}=we(n),{transitionName:m,showTransition:g}=Ge(i.value.transitions),{buildMatrix:P}=$e(),{handleMonthYearChange:O,isDisabled:B,updateMonthYear:Y}=On(n,a),S=e.ref(!1),f=e.ref(!1),$=e.ref([null,null,null,null]),X=e.ref(null),I=e.ref(null),z=e.ref(null);e.onMounted(()=>{a("mount")});const E=p=>({get:()=>n[p],set:b=>{const y=p==="month"?"year":"month";a("update-month-year",{[p]:b,[y]:n[y]}),a("month-year-select",p==="year"),p==="month"?h(!0):l(!0)}}),D=e.computed(E("month")),G=e.computed(E("year")),q=p=>{const b=u.getYear(C(p));return n.year===b},x=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(p=>C(p)).filter(p=>q(p)).map(p=>u.getMonth(p)):[]:[]),F=e.computed(()=>p=>{const b=p==="month";return{showSelectionGrid:(b?S:f).value,items:(b?K:_).value,disabledValues:i.value.filters[b?"months":"years"].concat(x.value),minValue:(b?U:N).value,maxValue:(b?T:A).value,headerRefs:b&&n.monthPicker?[X.value,I.value,z.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),ne=e.computed(()=>p=>({month:n.month,year:n.year,items:p==="month"?n.months:n.years,instance:n.instance,updateMonthYear:Y,toggle:p==="month"?h:l})),N=e.computed(()=>n.minDate?u.getYear(C(n.minDate)):null),A=e.computed(()=>n.maxDate?u.getYear(C(n.maxDate)):null),U=e.computed(()=>{if(n.minDate&&N.value){if(N.value>n.year)return 12;if(N.value===n.year)return u.getMonth(C(n.minDate))}return null}),T=e.computed(()=>n.maxDate&&A.value?A.value<n.year?-1:A.value===n.year?u.getMonth(C(n.maxDate)):null:null),H=e.computed(()=>(n.range||n.multiDates)&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),k=p=>{const b=[],y=L=>L;for(let L=0;L<p.length;L+=3){const ee=[p[L],p[L+1],p[L+2]];b.push(y(ee))}return b},j=e.computed(()=>{const p=n.months.find(b=>b.value===n.month);return p||{text:"",value:0}}),K=e.computed(()=>k(n.months)),_=e.computed(()=>k(n.years)),o=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),s=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),h=(p=!1)=>{w(p),S.value=!S.value,S.value||a("overlay-closed")},l=(p=!1)=>{w(p),f.value=!f.value,f.value||a("overlay-closed")},w=p=>{p||a("reset-flow")},R=(p=!1)=>{B.value(p)||a("update-month-year",{year:p?n.year+1:n.year-1,month:n.month,fromNav:!0})},V=(p,b)=>{n.arrowNavigation&&($.value[b]=ce(p),P($.value,"monthYear"))};return r({toggleMonthPicker:h,toggleYearPicker:l,handleMonthYearChange:O}),(p,b)=>{var y,L,ee,ge,Se;return e.openBlock(),e.createElementBlock("div",dr,[p.$slots["month-year"]?e.renderSlot(p.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(Y),handleMonthYearChange:e.unref(O),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!p.monthPicker&&!p.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(o)&&!p.vertical?(e.openBlock(),e.createBlock(dt,{key:0,"aria-label":(y=e.unref(i).ariaLabels)==null?void 0:y.prevMonth,disabled:e.unref(B)(!1),onActivate:b[0]||(b[0]=Q=>e.unref(O)(!1)),onSetRef:b[1]||(b[1]=Q=>V(Q,0))},{default:e.withCtx(()=>[p.$slots["arrow-left"]?e.renderSlot(p.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",fr,[e.createVNode(Wt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(L=e.unref(i).ariaLabels)==null?void 0:L.openMonthsOverlay,modelValue:e.unref(D),"onUpdate:modelValue":b[2]||(b[2]=Q=>e.isRef(D)?D.value=Q:null)},e.unref(F)("month"),{onToggle:h,onSetRef:b[3]||(b[3]=Q=>V(Q,1))}),e.createSlots({default:e.withCtx(()=>[p.$slots.month?e.renderSlot(p.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(j)))):e.createCommentVNode("",!0),p.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(j).text),1)],64))]),_:2},[p.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"calendar-icon")]),key:"0"}:void 0,p.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(p.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,p.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(ne)("month"))))]),key:"2"}:void 0,p.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"month-overlay-header",{toggle:h})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Wt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ee=e.unref(i).ariaLabels)==null?void 0:ee.openYearsOverlay,modelValue:e.unref(G),"onUpdate:modelValue":b[4]||(b[4]=Q=>e.isRef(G)?G.value=Q:null)},e.unref(F)("year"),{onToggle:l,onSetRef:b[5]||(b[5]=Q=>V(Q,2))}),e.createSlots({default:e.withCtx(()=>[p.$slots.year?e.renderSlot(p.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),p.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[p.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"calendar-icon")]),key:"0"}:void 0,p.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,p.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(ne)("year"))))]),key:"2"}:void 0,p.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"year-overlay-header",{toggle:l})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(o)&&p.vertical?(e.openBlock(),e.createBlock(dt,{key:1,"aria-label":(ge=e.unref(i).ariaLabels)==null?void 0:ge.prevMonth,disabled:e.unref(B)(!1),onActivate:b[6]||(b[6]=Q=>e.unref(O)(!1))},{default:e.withCtx(()=>[p.$slots["arrow-up"]?e.renderSlot(p.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(s)?(e.openBlock(),e.createBlock(dt,{key:2,ref:"rightIcon",disabled:e.unref(B)(!0),"aria-label":(Se=e.unref(i).ariaLabels)==null?void 0:Se.nextMonth,onActivate:b[7]||(b[7]=Q=>e.unref(O)(!0)),onSetRef:b[8]||(b[8]=Q=>V(Q,3))},{default:e.withCtx(()=>[p.$slots[p.vertical?"arrow-down":"arrow-right"]?e.renderSlot(p.$slots,p.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),p.$slots[p.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.vertical?e.unref(St):e.unref(Ct)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),p.monthPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:1},e.unref(F)("month"),{"skip-active":p.range,year:t.year,"multi-model-value":e.unref(H),"month-picker":"",modelValue:e.unref(D),"onUpdate:modelValue":b[17]||(b[17]=Q=>e.isRef(D)?D.value=Q:null),onToggle:h,onSelected:b[18]||(b[18]=Q=>p.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var Q,Ne,Me;return[e.createElementVNode("div",mr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:X,onClick:b[9]||(b[9]=he=>R(!1)),onKeydown:b[10]||(b[10]=e.withKeys(he=>R(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(B)(!1)}]),role:"button","aria-label":(Q=e.unref(i).ariaLabels)==null?void 0:Q.prevMonth},[p.$slots["arrow-left"]?e.renderSlot(p.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],10,yr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:I,"aria-label":(Ne=e.unref(i).ariaLabels)==null?void 0:Ne.openYearsOverlay,tabindex:"0",onClick:b[11]||(b[11]=()=>l(!1)),onKeydown:b[12]||(b[12]=e.withKeys(()=>l(!1),["enter"]))},[p.$slots.year?e.renderSlot(p.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),p.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,pr),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:z,onClick:b[13]||(b[13]=he=>R(!0)),onKeydown:b[14]||(b[14]=e.withKeys(he=>R(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(B)(!0)}]),role:"button","aria-label":(Me=e.unref(i).ariaLabels)==null?void 0:Me.nextMonth},[p.$slots["arrow-right"]?e.renderSlot(p.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],10,gr)],544)]),e.createVNode(e.Transition,{name:e.unref(m)(f.value),css:e.unref(g)},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},e.unref(F)("year"),{modelValue:e.unref(G),"onUpdate:modelValue":b[15]||(b[15]=he=>e.isRef(G)?G.value=he:null),onToggle:l,onSelected:b[16]||(b[16]=he=>p.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:he})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:he.text,value:he.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[p.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(p.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),p.yearPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:2},e.unref(F)("year"),{modelValue:e.unref(G),"onUpdate:modelValue":b[19]||(b[19]=Q=>e.isRef(G)?G.value=Q:null),"multi-model-value":e.unref(H),"skip-active":p.range,"skip-button-ref":"","year-picker":"",onToggle:l,onSelected:b[20]||(b[20]=Q=>p.$emit("overlay-closed"))}),e.createSlots({_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),kr={key:0,class:"dp__time_input"},wr=["aria-label","onKeydown","onClick"],Dr=["aria-label","data-test","onKeydown","onClick"],br=["aria-label","onKeydown","onClick"],Mr={key:0},Cr=["aria-label","onKeydown"],$r=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Be},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:i,setTimePickerBackRef:m}=$e(),{defaults:g}=we(n),{transitionName:P,showTransition:O}=Ge(g.value.transitions),B=e.reactive({hours:!1,minutes:!1,seconds:!1}),Y=e.ref("AM"),S=e.ref(null),f=e.ref([]);e.onMounted(()=>{a("mounted")});const $=e.computed(()=>o=>!!(n.maxTime&&n.maxTime[o]&&+n.maxTime[o]<+n[o]+ +n[`${o}Increment`])),X=e.computed(()=>o=>!!(n.minTime&&n.minTime[o]&&+n.minTime[o]>+n[o]-+n[`${o}Increment`])),I=(o,s)=>u.add(u.set(C(),o),s),z=(o,s)=>u.sub(u.set(C(),o),s),E=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),D=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),G=e.computed(()=>D.value.filter(o=>!o.separator)),q=e.computed(()=>o=>{if(o==="hours"){const s=H(+n.hours);return{text:s<10?`0${s}`:`${s}`,value:s}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),x=o=>{const s=n.is24?24:12,h=o==="hours"?s:60,l=+n[`${o}GridIncrement`],w=o==="hours"&&!n.is24?l:0,R=[];for(let V=w;V<h;V+=l)R.push({value:V,text:V<10?`0${V}`:`${V}`});return o==="hours"&&!n.is24&&R.push({value:0,text:"12"}),Mn(R)},F=(o,s)=>{const h=n.minTime&&n.minTime[s],l=n.maxTime&&n.maxTime[s];return h&&l?o<+h||o>+l:h?o<+h:l?o>+l:!1},ne=e.computed(()=>o=>x(o).flat().filter(h=>h).map(h=>h.value).filter(h=>F(h,o))),N=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],A=o=>{N(o)||(B[o]=!B[o],B[o]||a("overlay-closed"))},U=o=>o==="hours"?u.getHours:o==="minutes"?u.getMinutes:u.getSeconds,T=(o,s=!0)=>{const h=s?I:z;(s?$.value(o):X.value(o))||a(`update:${o}`,U(o)(h({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},H=o=>n.is24?o:(o>=12?Y.value="PM":Y.value="AM",Sn(o)),k=()=>{Y.value==="PM"?(Y.value="AM",a("update:hours",n.hours-12)):(Y.value="PM",a("update:hours",n.hours+12))},j=o=>{B[o]=!0},K=(o,s,h)=>{if(o&&n.arrowNavigation){Array.isArray(f.value[s])?f.value[s][h]=o:f.value[s]=[o];const l=f.value.reduce((w,R)=>R.map((V,p)=>[...w[p]||[],R[p]]),[]);m(n.closeTimePickerBtn),S.value&&(l[1]=l[1].concat(S.value)),i(l,n.order)}},_=(o,s)=>o==="hours"&&!n.is24?a(`update:${o}`,Y.value==="PM"?s+12:s):a(`update:${o}`,s);return r({openChildCmp:j}),(o,s)=>{var h;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",kr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(D),(l,w)=>{var R,V,p;return e.openBlock(),e.createElementBlock("div",{key:w,class:e.normalizeClass(e.unref(E))},[l.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref($)(l.type)}),role:"button","data-test":"time-inc-btn","aria-label":(R=e.unref(g).ariaLabels)==null?void 0:R.incrementValue(l.type),tabindex:"0",onKeydown:[e.withKeys(b=>T(l.type),["enter"]),e.withKeys(b=>T(l.type),["space"])],onClick:b=>T(l.type),ref_for:!0,ref:b=>K(b,w,0)},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],42,wr),e.createElementVNode("div",{role:"button","aria-label":(V=e.unref(g).ariaLabels)==null?void 0:V.openTpOverlay(l.type),class:e.normalizeClass(N(l.type)?"":"dp__time_display"),tabindex:"0","data-test":`${l.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(b=>A(l.type),["enter"]),e.withKeys(b=>A(l.type),["space"])],onClick:b=>A(l.type),ref_for:!0,ref:b=>K(b,w,1)},[o.$slots[l.type]?e.renderSlot(o.$slots,l.type,{key:0,text:e.unref(q)(l.type).text,value:e.unref(q)(l.type).value}):e.createCommentVNode("",!0),o.$slots[l.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(q)(l.type).text),1)],64))],42,Dr),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(X)(l.type)}),role:"button","data-test":"time-dec-btn","aria-label":(p=e.unref(g).ariaLabels)==null?void 0:p.decrementValue(l.type),tabindex:"0",onKeydown:[e.withKeys(b=>T(l.type,!1),["enter"]),e.withKeys(b=>T(l.type,!1),["space"])],onClick:b=>T(l.type,!1),ref_for:!0,ref:b=>K(b,w,2)},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],42,br)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Mr,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:k,value:Y.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:S,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(h=e.unref(g).ariaLabels)==null?void 0:h.amPmButton,tabindex:"0",onClick:k,onKeydown:[e.withKeys(e.withModifiers(k,["prevent"]),["enter"]),e.withKeys(e.withModifiers(k,["prevent"]),["space"])]},e.toDisplayString(Y.value),41,Cr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(G),(l,w)=>(e.openBlock(),e.createBlock(e.Transition,{key:w,name:e.unref(P)(B[l.type]),css:e.unref(O)},{default:e.withCtx(()=>[B[l.type]?(e.openBlock(),e.createBlock(Ye,{key:0,items:x(l.type),"disabled-values":e.unref(g).filters.times[l.type].concat(e.unref(ne)(l.type)),"esc-close":o.escClose,"aria-labels":e.unref(g).ariaLabels,"hide-navigation":o.hideNavigation,"onUpdate:modelValue":R=>_(l.type,R),onSelected:R=>A(l.type),onToggle:R=>A(l.type),onResetFlow:s[0]||(s[0]=R=>o.$emit("reset-flow")),type:l.type},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:2},[o.$slots[`${l.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:R})=>[e.renderSlot(o.$slots,`${l.type}-overlay-value`,{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Br=["aria-label"],Sr={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Nr={key:1,class:"dp__overlay_row dp__flex_row"},Tr=["aria-label"],Pr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:i,setTimePicker:m}=$e(),g=e.useSlots(),{hideNavigationButtons:P,defaults:O}=we(n),{transitionName:B,showTransition:Y}=Ge(O.value.transitions),S=e.ref(null),f=e.ref(null),$=e.ref([]),X=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?i([ce(S.value)],"time"):m(!0,n.timePicker)});const I=e.computed(()=>n.range&&n.modelAuto?zt(n.internalModelValue):!0),z=e.ref(!1),E=T=>({hours:Array.isArray(n.hours)?n.hours[T]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[T]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[T]:n.seconds}),D=e.computed(()=>{const T=[];if(n.range)for(let H=0;H<2;H++)T.push(E(H));else T.push(E(0));return T}),G=(T,H=!1,k="")=>{H||a("reset-flow"),z.value=T,T&&a("overlay-opened"),n.arrowNavigation&&(m(T),T||a("overlay-closed")),e.nextTick(()=>{k!==""&&$.value[0]&&$.value[0].openChildCmp(k)})},q=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),x=Ae(g,"timePicker"),F=(T,H,k)=>n.range?H===0?[T,D.value[1][k]]:[D.value[0][k],T]:T,ne=T=>{a("update:hours",T)},N=T=>{a("update:minutes",T)},A=T=>{a("update:seconds",T)},U=()=>{X.value&&n.arrowNavigation&&X.value.focus({preventScroll:!0})};return r({toggleTimePicker:G}),(T,H)=>{var k;return e.openBlock(),e.createElementBlock("div",null,[T.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(q)),role:"button","aria-label":(k=e.unref(O).ariaLabels)==null?void 0:k.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:S,onKeydown:[H[0]||(H[0]=e.withKeys(j=>G(!0),["enter"])),H[1]||(H[1]=e.withKeys(j=>G(!0),["space"]))],onClick:H[2]||(H[2]=j=>G(!0))},[T.$slots["clock-icon"]?e.renderSlot(T.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],42,Br)),[[e.vShow,!e.unref(P)("time")]]),e.createVNode(e.Transition,{name:e.unref(B)(z.value),css:e.unref(Y)},{default:e.withCtx(()=>{var j;return[z.value||T.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:X,tabindex:"0"},[e.createElementVNode("div",Sr,[T.$slots["time-picker-overlay"]?e.renderSlot(T.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ne,setMinutes:N,setSeconds:A}):e.createCommentVNode("",!0),T.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Nr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(D),(K,_)=>e.withDirectives((e.openBlock(),e.createBlock($r,e.mergeProps({key:_},{...T.$props,order:_,hours:K.hours,minutes:K.minutes,seconds:K.seconds,closeTimePickerBtn:f.value,disabled:_===0?T.fixedStart:T.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:$,"onUpdate:hours":o=>ne(F(o,_,"hours")),"onUpdate:minutes":o=>N(F(o,_,"minutes")),"onUpdate:seconds":o=>A(F(o,_,"seconds")),onMounted:U,onOverlayClosed:U}),e.createSlots({_:2},[e.renderList(e.unref(x),(o,s)=>({name:o,fn:e.withCtx(h=>[e.renderSlot(T.$slots,o,e.normalizeProps(e.guardReactiveProps(h)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,_===0?!0:e.unref(I)]])),128))])),T.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:f,class:e.normalizeClass(e.unref(q)),role:"button","aria-label":(j=e.unref(O).ariaLabels)==null?void 0:j.closeTimePicker,tabindex:"0",onKeydown:[H[3]||(H[3]=e.withKeys(K=>G(!1),["enter"])),H[4]||(H[4]=e.withKeys(K=>G(!1),["space"]))],onClick:H[5]||(H[5]=K=>G(!1))},[T.$slots["calendar-icon"]?e.renderSlot(T.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,Tr)),[[e.vShow,!e.unref(P)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Ar=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:i,defaults:m}=we(r),g=e.ref(null),P=e.ref(C()),O=l=>{!l.current&&r.hideOffsetDates||(g.value=l.value)},B=()=>{g.value=null},Y=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&g.value?l?me(g.value,t.value[0]):fe(g.value,t.value[0]):!0,S=(l,w)=>{const R=()=>t.value?w?t.value[0]||null:t.value[1]:null,V=t.value&&Array.isArray(t.value)?R():null;return re(C(l.value),V)},f=l=>{const w=Array.isArray(t.value)?t.value[0]:null;return l?!fe(g.value||null,w):!0},$=(l,w=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:re(C(l.value),t.value[w?0:1]):r.range?S(l,w)&&f(w)||re(l.value,Array.isArray(t.value)?t.value[0]:null)&&Y(w):!1,X=(l,w,R)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:R?me(t.value[0],w.value):fe(t.value[0],w.value):!1,I=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?re(l.value,t.value[0]?t.value[0]:P.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(w=>re(w,l.value)):re(l.value,t.value?t.value:P.value),z=l=>{if(r.autoRange||r.weekPicker){if(g.value){if(r.hideOffsetDates&&!l.current)return!1;const w=u.addDays(g.value,+r.autoRange),R=i(C(g.value));return r.weekPicker?re(R[1],C(l.value)):re(w,C(l.value))}return!1}return!1},E=l=>{if(r.autoRange||r.weekPicker){if(g.value){const w=u.addDays(g.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const R=i(C(g.value));return r.weekPicker?me(l.value,R[0])&&fe(l.value,R[1]):me(l.value,g.value)&&fe(l.value,w)}return!1}return!1},D=l=>{if(r.autoRange||r.weekPicker){if(g.value){if(r.hideOffsetDates&&!l.current)return!1;const w=i(C(g.value));return r.weekPicker?re(w[0],l.value):re(g.value,l.value)}return!1}return!1},G=l=>Tt(t.value,g.value,l.value),q=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,x=()=>r.modelAuto?zt(r.internalModelValue):!0,F=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const w=r.range?!$(l)&&!$(l,!1):!0;return!a(l.value)&&!I(l)&&!(!l.current&&r.hideOffsetDates)&&w},ne=l=>r.range?r.modelAuto?q()&&I(l):!1:I(l),N=l=>r.highlight?n(l.value,r.highlight):!1,A=l=>a(l.value)&&r.highlightDisabledDays===!1,U=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),T=l=>(r.range||r.weekPicker)&&(!(m.value.multiCalendars>0)||l.current)&&x()&&!(!l.current&&r.hideOffsetDates)&&!I(l)?G(l):!1,H=l=>{const{isRangeStart:w,isRangeEnd:R}=K(l),V=r.range?w||R:!1;return{dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!A(l)&&(N(l)||U(l))&&!ne(l)&&!V,dp__cell_highlight_active:!A(l)&&(N(l)||U(l))&&ne(l),dp__today:!r.noToday&&re(l.value,P.value)&&l.current}},k=l=>({dp__active_date:ne(l),dp__date_hover:F(l)}),j=l=>({..._(l),...o(l),dp__range_between_week:T(l)&&r.weekPicker}),K=l=>{const w=m.value.multiCalendars>0?l.current&&$(l)&&x():$(l)&&x(),R=m.value.multiCalendars>0?l.current&&$(l,!1)&&x():$(l,!1)&&x();return{isRangeStart:w,isRangeEnd:R}},_=l=>{const{isRangeStart:w,isRangeEnd:R}=K(l);return{dp__range_start:w,dp__range_end:R,dp__range_between:T(l)&&!r.weekPicker,dp__date_hover_start:X(F(l),l,!0),dp__date_hover_end:X(F(l),l,!1)}},o=l=>({..._(l),dp__cell_auto_range:E(l),dp__cell_auto_range_start:D(l),dp__cell_auto_range_end:z(l)}),s=l=>r.range?r.autoRange?o(l):r.modelAuto?{...k(l),..._(l)}:_(l):r.weekPicker?j(l):k(l);return{setHoverDate:O,clearHoverDate:B,getDayClassData:l=>({...H(l),...s(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},Vr=["id","onKeydown"],_r={key:0,class:"dp__sidebar_left"},Er={key:1,class:"dp__preset_ranges"},Rr=["onClick"],vr={key:2,class:"dp__sidebar_right"},Or={key:3,class:"dp__now_wrap"},Yr=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:i,setShiftKey:m,control:g}=Pt(),{getCalendarDays:P,defaults:O}=we(n),B=e.useSlots(),Y=e.ref(null),S=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),f=e.ref([]),$=e.ref([]),X=e.ref(null),I=e.ref(null),z=e.ref(0),E=e.ref(!1),D=e.ref(0);e.onMounted(()=>{var v;E.value=!0,!((v=n.presetRanges)!=null&&v.length)&&!B["left-sidebar"]&&!B["right-sidebar"]&&(ae(),window.addEventListener("resize",ae));const d=ce(I);if(d&&!n.textInput&&!n.inline&&(i(!0),N()),d){const se=ie=>{["action-row","time-picker","month-year"].some(Ce=>Object.keys(B).includes(Ce))||ie.preventDefault(),ie.stopImmediatePropagation(),ie.stopPropagation()};d.addEventListener("pointerdown",se),d.addEventListener("mousedown",se)}}),e.onUnmounted(()=>{window.removeEventListener("resize",ae)});const{arrowRight:G,arrowLeft:q,arrowDown:x,arrowUp:F}=$e(),ne=d=>{d||d===0?$.value[d].triggerTransition(k.value(d),j.value(d)):$.value.forEach((v,se)=>v.triggerTransition(k.value(se),j.value(se)))},N=()=>{const d=ce(I);d&&d.focus({preventScroll:!0})},A=()=>{var d;(d=n.flow)!=null&&d.length&&D.value!==-1&&(D.value+=1,a("flow-step",D.value),Dt())},U=()=>{D.value=-1},{calendars:T,modelValue:H,month:k,year:j,time:K,updateTime:_,updateMonthYear:o,selectDate:s,getWeekNum:h,monthYearSelect:l,handleScroll:w,handleArrow:R,handleSwipe:V,getMarker:p,selectCurrentDate:b,presetDateRange:y}=Rn(n,a,A,ne,D),{setHoverDate:L,clearHoverDate:ee,getDayClassData:ge}=Ar(H,n);e.watch(T,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const Se=Ae(B,"calendar"),Q=Ae(B,"action"),Ne=Ae(B,"timePicker"),Me=Ae(B,"monthYear"),he=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ve=e.computed(()=>$n(n.yearRange,n.reverseYears)),J=e.computed(()=>Bn(n.locale,n.monthNameFormat)),ae=()=>{const d=ce(Y);d&&(z.value=d.getBoundingClientRect().width)},le=e.computed(()=>d=>P(k.value(d),j.value(d))),Te=e.computed(()=>O.value.multiCalendars>0&&n.range?[...Array(O.value.multiCalendars).keys()]:[0]),ke=e.computed(()=>d=>d===1),Ze=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:O.value.multiCalendars>0})),pt=e.computed(()=>({dp__instance_calendar:O.value.multiCalendars>0})),gt=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),qe=e.computed(()=>d=>ht(le,d)),Ie=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),ht=(d,v)=>d.value(v).map(se=>({...se,days:se.days.map(ie=>(ie.marker=p(ie),ie.classData=ge(ie),ie))})),kt=d=>{d.stopPropagation(),d.stopImmediatePropagation()},wt=()=>{n.escClose&&a("close-picker")},Xe=(d,v=!1)=>{s(d,v),n.spaceConfirm&&a("select-date")},Je=d=>{var v;(v=n.flow)!=null&&v.length&&(S[d]=!0,Object.keys(S).filter(se=>!S[se]).length||Dt())},Ee=(d,v,se,ie,...Ce)=>{if(n.flow[D.value]===d){const W=ie?v.value[0]:v.value;W&&W[se](...Ce)}},Dt=()=>{Ee("month",f,"toggleMonthPicker",!0,!0),Ee("year",f,"toggleYearPicker",!0,!0),Ee("calendar",X,"toggleTimePicker",!1,!1,!0),Ee("time",X,"toggleTimePicker",!1,!0,!0);const d=n.flow[D.value];(d==="hours"||d==="minutes"||d==="seconds")&&Ee(d,X,"toggleTimePicker",!1,!0,!0,d)},c=d=>{if(n.arrowNavigation){if(d==="up")return F();if(d==="down")return x();if(d==="left")return q();if(d==="right")return G()}else d==="left"||d==="up"?R("left",0,d==="up"):R("right",0,d==="down")},M=d=>{m(d.shiftKey),!n.disableMonthYearSelect&&d.code==="Tab"&&d.target.classList.contains("dp__menu")&&g.value.shiftKeyInMenu&&(d.preventDefault(),d.stopImmediatePropagation(),a("close-picker"))},Z=d=>{f.value[0]&&f.value[0].handleMonthYearChange(d)};return r({updateMonthYear:o}),(d,v)=>{var se;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(se=e.unref(O).transitions)==null?void 0:se.menuAppear,mode:"out-in",css:!!d.transitions},{default:e.withCtx(()=>{var ie,Ce;return[e.createElementVNode("div",{id:d.uid?`dp-menu-${d.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:I,role:"dialog",class:e.normalizeClass(e.unref(Ie)),onMouseleave:v[15]||(v[15]=(...W)=>e.unref(ee)&&e.unref(ee)(...W)),onClick:kt,onKeydown:[e.withKeys(wt,["esc"]),v[16]||(v[16]=e.withKeys(e.withModifiers(W=>c("left"),["prevent"]),["left"])),v[17]||(v[17]=e.withKeys(e.withModifiers(W=>c("up"),["prevent"]),["up"])),v[18]||(v[18]=e.withKeys(e.withModifiers(W=>c("down"),["prevent"]),["down"])),v[19]||(v[19]=e.withKeys(e.withModifiers(W=>c("right"),["prevent"]),["right"])),M]},[(d.disabled||d.readonly)&&d.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(gt))},null,2)):e.createCommentVNode("",!0),!d.inline&&!d.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(he))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((ie=d.presetRanges)==null?void 0:ie.length)||!!d.$slots["left-sidebar"]||!!d.$slots["right-sidebar"]})},[d.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",_r,[e.renderSlot(d.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:Z})))])):e.createCommentVNode("",!0),(Ce=d.presetRanges)!=null&&Ce.length?(e.openBlock(),e.createElementBlock("div",Er,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.presetRanges,(W,Re)=>(e.openBlock(),e.createElementBlock("div",{key:Re,style:e.normalizeStyle(W.style||{}),class:"dp__preset_range",onClick:te=>e.unref(y)(W.range,!!W.slot)},[W.slot?e.renderSlot(d.$slots,W.slot,{key:0,presetDateRange:e.unref(y),label:W.label,range:W.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(W.label),1)],64))],12,Rr))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:Y,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Te),(W,Re)=>(e.openBlock(),e.createElementBlock("div",{key:W,class:e.normalizeClass(e.unref(pt))},[!d.disableMonthYearSelect&&!d.timePicker?(e.openBlock(),e.createBlock(hr,e.mergeProps({key:0,ref_for:!0,ref:te=>{te&&(f.value[Re]=te)},months:e.unref(J),years:e.unref(Ve),month:e.unref(k)(W),year:e.unref(j)(W),instance:W,"internal-model-value":t.internalModelValue},d.$props,{onMount:v[0]||(v[0]=te=>Je("monthYearInput")),onResetFlow:U,onUpdateMonthYear:te=>e.unref(o)(W,te),onMonthYearSelect:e.unref(l),onOverlayClosed:N}),e.createSlots({_:2},[e.renderList(e.unref(Me),(te,Ur)=>({name:te,fn:e.withCtx(bt=>[e.renderSlot(d.$slots,te,e.normalizeProps(e.guardReactiveProps(bt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(ar,e.mergeProps({ref_for:!0,ref:te=>{te&&($.value[Re]=te)},"specific-mode":e.unref(Ze),"get-week-num":e.unref(h),instance:W,"mapped-dates":e.unref(qe)(W),month:e.unref(k)(W),year:e.unref(j)(W)},d.$props,{"flow-step":D.value,"onUpdate:flowStep":v[1]||(v[1]=te=>D.value=te),onSelectDate:te=>e.unref(s)(te,!e.unref(ke)(W)),onHandleSpace:te=>Xe(te,!e.unref(ke)(W)),onSetHoverDate:v[2]||(v[2]=te=>e.unref(L)(te)),onHandleScroll:te=>e.unref(w)(te,W),onHandleSwipe:te=>e.unref(V)(te,W),onMount:v[3]||(v[3]=te=>Je("calendar")),onResetFlow:U,onTooltipOpen:v[4]||(v[4]=te=>d.$emit("tooltip-open",te)),onTooltipClose:v[5]||(v[5]=te=>d.$emit("tooltip-close",te))}),e.createSlots({_:2},[e.renderList(e.unref(Se),(te,Ur)=>({name:te,fn:e.withCtx(bt=>[e.renderSlot(d.$slots,te,e.normalizeProps(e.guardReactiveProps({...bt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[d.$slots["time-picker"]?e.renderSlot(d.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(K),updateTime:e.unref(_)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[d.enableTimePicker&&!d.monthPicker&&!d.weekPicker?(e.openBlock(),e.createBlock(Pr,e.mergeProps({key:0,ref_key:"timePickerRef",ref:X,hours:e.unref(K).hours,minutes:e.unref(K).minutes,seconds:e.unref(K).seconds,"internal-model-value":t.internalModelValue},d.$props,{onMount:v[6]||(v[6]=W=>Je("timePicker")),"onUpdate:hours":v[7]||(v[7]=W=>e.unref(_)(W)),"onUpdate:minutes":v[8]||(v[8]=W=>e.unref(_)(W,!1)),"onUpdate:seconds":v[9]||(v[9]=W=>e.unref(_)(W,!1,!0)),onResetFlow:U,onOverlayClosed:N,onOverlayOpened:v[10]||(v[10]=W=>d.$emit("time-picker-open",W))}),e.createSlots({_:2},[e.renderList(e.unref(Ne),(W,Re)=>({name:W,fn:e.withCtx(te=>[e.renderSlot(d.$slots,W,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),d.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",vr,[e.renderSlot(d.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:Z})))])):e.createCommentVNode("",!0),d.showNowButton?(e.openBlock(),e.createElementBlock("div",Or,[d.$slots["now-button"]?e.renderSlot(d.$slots,"now-button",{key:0,selectCurrentDate:e.unref(b)}):e.createCommentVNode("",!0),d.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:v[11]||(v[11]=(...W)=>e.unref(b)&&e.unref(b)(...W))},e.toDisplayString(d.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!d.autoApply||d.keepActionRow?(e.openBlock(),e.createBlock(qn,e.mergeProps({key:2,"menu-mount":E.value,"calendar-width":z.value,"internal-model-value":t.internalModelValue},d.$props,{onClosePicker:v[12]||(v[12]=W=>d.$emit("close-picker")),onSelectDate:v[13]||(v[13]=W=>d.$emit("select-date")),onInvalidSelect:v[14]||(v[14]=W=>d.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Q),(W,Re)=>({name:W,fn:e.withCtx(te=>[e.renderSlot(d.$slots,W,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,Vr)]}),_:3},8,["name","css"])}}}),Ir=typeof window<"u"?window:void 0,ft=()=>{},Lr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,zr=(t,r,a,n)=>{if(!t)return ft;let i=ft;const m=e.watch(()=>e.unref(t),P=>{i(),P&&(P.addEventListener(r,a,n),i=()=>{P.removeEventListener(r,a,n),i=ft})},{immediate:!0,flush:"post"}),g=()=>{m(),i()};return Lr(g),g},xr=(t,r,a,n={})=>{const{window:i=Ir,event:m="pointerdown"}=n;return i?zr(i,m,P=>{const O=ce(t),B=ce(r);!O||!B||O===P.target||P.composedPath().includes(O)||P.composedPath().includes(B)||a(P)},{passive:!0}):void 0},Kr=e.defineComponent({__name:"VueDatePicker",props:{...Be},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,i=e.useSlots(),m=e.ref(!1),g=e.toRef(n,"modelValue"),P=e.toRef(n,"timezone"),O=e.ref(null),B=e.ref(null),Y=e.ref(!1),S=e.ref(null),{setMenuFocused:f,setShiftKey:$}=Pt(),{clearArrowNav:X}=$e(),{validateDate:I,isValidTime:z}=we(n);e.onMounted(()=>{U(n.modelValue),n.inline||(ne(S.value).addEventListener("scroll",o),window.addEventListener("resize",s)),n.inline&&(m.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const J=ne(S.value);J&&J.removeEventListener("scroll",o),window.removeEventListener("resize",s)}});const E=Ae(i,"all",n.presetRanges),D=Ae(i,"input");e.watch([g,P],()=>{U(g.value)},{deep:!0});const{openOnTop:G,menuPosition:q,setMenuPosition:x,setInitialPosition:F,getScrollableParent:ne}=Yn(O,B,a,n),{inputValue:N,internalModelValue:A,parseExternalModelValue:U,emitModelValue:T,formatInputValue:H,checkBeforeEmit:k}=vn(a,n,Y),j=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),K=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),_=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),o=()=>{m.value&&(n.closeOnScroll?L():x())},s=()=>{m.value&&x()},h=()=>{!n.disabled&&!n.readonly&&(F(),m.value=!0,e.nextTick().then(()=>{x(),m.value&&a("open")}),m.value||y(),U(n.modelValue))},l=()=>{N.value="",y(),a("update:model-value",null),a("cleared"),L()},w=()=>{const J=A.value;return!J||!Array.isArray(J)&&I(J)?!0:Array.isArray(J)?J.length===2&&I(J[0])&&I(J[1])?!0:I(J[0]):!1},R=()=>{k()&&w()?(T(),L()):a("invalid-select",A.value)},V=J=>{p(),T(),n.closeOnAutoApply&&!J&&L()},p=()=>{B.value&&n.textInput&&B.value.setParsedDate(A.value)},b=(J=!1)=>{n.autoApply&&z(A.value)&&w()&&(n.range&&Array.isArray(A.value)?(n.partialRange||A.value.length===2)&&V(J):V(J))},y=()=>{n.textInput||(A.value=null)},L=()=>{n.inline||(m.value&&(m.value=!1,f(!1),$(!1),X(),a("closed"),F(),N.value&&U(g.value)),y())},ee=(J,ae)=>{if(!J){A.value=null;return}A.value=J,ae&&(R(),a("text-submit"))},ge=()=>{n.autoApply&&z(A.value)&&T(),p()},Se=()=>m.value?L():h(),Q=J=>{A.value=J},Ne=()=>{n.textInput&&(Y.value=!0,H()),a("focus")},Me=()=>{n.textInput&&(Y.value=!1,U(n.modelValue)),a("blur")},he=J=>{O.value&&O.value.updateMonthYear(0,{month:xt(J.month),year:xt(J.year)})},Ve=J=>{U(J||n.modelValue)};return xr(O,B,n.onClickOutside?()=>n.onClickOutside(w):L),r({closeMenu:L,selectDate:R,clearValue:l,openMenu:h,onScroll:o,formatInputValue:H,updateInternalModelValue:Q,setMonthYear:he,parseModel:Ve}),(J,ae)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(j)),ref_key:"pickerWrapperRef",ref:S},[e.createVNode(Wn,e.mergeProps({ref_key:"inputRef",ref:B,"is-menu-open":m.value,"input-value":e.unref(N),"onUpdate:inputValue":ae[0]||(ae[0]=le=>e.isRef(N)?N.value=le:null)},J.$props,{onClear:l,onOpen:h,onSetInputDate:ee,onSetEmptyDate:e.unref(T),onSelectDate:R,onToggle:Se,onClose:L,onFocus:Ne,onBlur:Me}),e.createSlots({_:2},[e.renderList(e.unref(D),(le,Te)=>({name:le,fn:e.withCtx(ke=>[e.renderSlot(J.$slots,le,e.normalizeProps(e.guardReactiveProps(ke)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(J.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},e.unref(_))),{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createBlock(Yr,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:O,class:e.unref(K),style:e.unref(q),"open-on-top":e.unref(G)},J.$props,{"internal-model-value":e.unref(A),"onUpdate:internalModelValue":ae[1]||(ae[1]=le=>e.isRef(A)?A.value=le:null),onClosePicker:L,onSelectDate:R,onAutoApply:b,onTimeUpdate:ge,onFlowStep:ae[2]||(ae[2]=le=>J.$emit("flow-step",le)),onUpdateMonthYear:ae[3]||(ae[3]=le=>J.$emit("update-month-year",le)),onInvalidSelect:ae[4]||(ae[4]=le=>J.$emit("invalid-select",e.unref(A))),onInvalidFixedRange:ae[5]||(ae[5]=le=>J.$emit("invalid-fixed-range",le)),onRecalculatePosition:e.unref(x),onTooltipOpen:ae[6]||(ae[6]=le=>J.$emit("tooltip-open",le)),onTooltipClose:ae[7]||(ae[7]=le=>J.$emit("tooltip-close",le)),onTimePickerOpen:ae[8]||(ae[8]=le=>J.$emit("time-picker-open",le))}),e.createSlots({_:2},[e.renderList(e.unref(E),(le,Te)=>({name:le,fn:e.withCtx(ke=>[e.renderSlot(J.$slots,le,e.normalizeProps(e.guardReactiveProps({...ke})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),mt=(()=>{const t=Kr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(mt[t]=r)}),mt});
