{
  "version": 3,
  "sources": ["../../../../vue3-native-notification/index.js", "dep:vue3-native-notification"],
  "sourcesContent": ["import { inject } from 'vue'\n// Notification object\nconst Notification = window.Notification || window.webkitNotification\n\nconst onerror = function onerror (event) {\n  // console.log('On error event was called')\n}\n\nconst onclick = function onclick (event) {\n  // console.log('On click event was called')\n  event.preventDefault()\n  window.focus()\n  event.target.close()\n}\n\nconst onclose = function onclose (event) {\n  // console.log('On close event was called')\n}\n\nconst onshow = function onshow (event) {\n  // console.log('On show event was called')\n}\n\nconst defaultEvents = {\n  onerror: onerror,\n  onclick: onclick,\n  onclose: onclose,\n  onshow: onshow\n}\n\n// Plugin\nconst Vue3NativeNotification = {\n  install: function (app, options) {\n    options = options || {}\n    options.requestOnNotify = options.requestOnNotify || true\n\n    app.notification = {}\n    app.config.globalProperties.$notification = {}\n\n    // Manual permission request\n    const requestPermission = function () {\n      return Notification.requestPermission()\n    }\n    app.notification.requestPermission = requestPermission\n    app.config.globalProperties.$notification.requestPermission = requestPermission\n\n    // Show function\n    const show = function (title, opts, e) {\n      if (!e.onerror) e.onerror = function () {}\n      if (!e.onclick) e.onclick = function () {}\n      if (!e.onclose) e.onclose = function () {}\n      if (!e.onshow) e.onshow = function () {}\n      return Promise.resolve()\n        .then(function () {\n          if (\n            options.requestOnNotify &&\n            Notification.permission !== 'granted'\n          ) {\n            return requestPermission()\n          }\n\n          return Notification.permission\n        })\n        .then(function (permission) {\n          // \"default\" doesn't mean \"denied\"\n          // It means the user has dismissed the request\n          if (permission === 'denied') {\n            return new Error('No permission to show notification')\n          }\n\n          const bindOnError = function (event) {\n            'use strict'\n            defaultEvents.onerror(event)\n            e.onerror(event)\n          }\n\n          const bindOnClick = function (event) {\n            'use strict'\n            defaultEvents.onclick(event)\n            e.onclick(event)\n          }\n\n          const bindOnClose = function (event) {\n            'use strict'\n            defaultEvents.onclose(event)\n            e.onclose(event)\n          }\n\n          const bindOnShow = function (event) {\n            'use strict'\n            defaultEvents.onshow(event)\n            e.onshow(event)\n          }\n\n          // Create Notification object\n          try {\n            const notification = new Notification(title, opts)\n\n            notification.onerror = bindOnError\n            notification.onclick = bindOnClick\n            notification.onclose = bindOnClose\n            notification.onshow = bindOnShow\n\n            return notification\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              return e\n            }\n\n            return navigator.serviceWorker.ready\n              .then(function (reg) {\n                reg.showNotification(title, opts)\n              })\n              .then(bindOnShow, bindOnError)\n          }\n        })\n    }\n    app.notification.show = show\n    app.config.globalProperties.$notification.show = show\n\n    app.provide('vue3NativeNotifications', app.config.globalProperties.$notification)\n  }\n}\n\nexport function useNativeNotifications () {\n  return inject('vue3NativeNotifications')\n}\n\n// Export plugin\nexport default Vue3NativeNotification\n", "import d from \"./node_modules/vue3-native-notification/index.js\";export default d;\nexport * from \"./node_modules/vue3-native-notification/index.js\""],
  "mappings": ";;;;;;AAEA,IAAM,eAAe,OAAO,gBAAgB,OAAO;AAEnD,IAAM,UAAU,SAASA,SAAS,OAAO;AAEzC;AAEA,IAAM,UAAU,SAASC,SAAS,OAAO;AAEvC,QAAM,eAAe;AACrB,SAAO,MAAM;AACb,QAAM,OAAO,MAAM;AACrB;AAEA,IAAM,UAAU,SAASC,SAAS,OAAO;AAEzC;AAEA,IAAM,SAAS,SAASC,QAAQ,OAAO;AAEvC;AAEA,IAAM,gBAAgB;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAGA,IAAM,yBAAyB;AAAA,EAC7B,SAAS,SAAU,KAAK,SAAS;AAC/B,cAAU,WAAW,CAAC;AACtB,YAAQ,kBAAkB,QAAQ,mBAAmB;AAErD,QAAI,eAAe,CAAC;AACpB,QAAI,OAAO,iBAAiB,gBAAgB,CAAC;AAG7C,UAAM,oBAAoB,WAAY;AACpC,aAAO,aAAa,kBAAkB;AAAA,IACxC;AACA,QAAI,aAAa,oBAAoB;AACrC,QAAI,OAAO,iBAAiB,cAAc,oBAAoB;AAG9D,UAAM,OAAO,SAAU,OAAO,MAAM,GAAG;AACrC,UAAI,CAAC,EAAE;AAAS,UAAE,UAAU,WAAY;AAAA,QAAC;AACzC,UAAI,CAAC,EAAE;AAAS,UAAE,UAAU,WAAY;AAAA,QAAC;AACzC,UAAI,CAAC,EAAE;AAAS,UAAE,UAAU,WAAY;AAAA,QAAC;AACzC,UAAI,CAAC,EAAE;AAAQ,UAAE,SAAS,WAAY;AAAA,QAAC;AACvC,aAAO,QAAQ,QAAQ,EACpB,KAAK,WAAY;AAChB,YACE,QAAQ,mBACR,aAAa,eAAe,WAC5B;AACA,iBAAO,kBAAkB;AAAA,QAC3B;AAEA,eAAO,aAAa;AAAA,MACtB,CAAC,EACA,KAAK,SAAU,YAAY;AAG1B,YAAI,eAAe,UAAU;AAC3B,iBAAO,IAAI,MAAM,oCAAoC;AAAA,QACvD;AAEA,cAAM,cAAc,SAAU,OAAO;AACnC;AACA,wBAAc,QAAQ,KAAK;AAC3B,YAAE,QAAQ,KAAK;AAAA,QACjB;AAEA,cAAM,cAAc,SAAU,OAAO;AACnC;AACA,wBAAc,QAAQ,KAAK;AAC3B,YAAE,QAAQ,KAAK;AAAA,QACjB;AAEA,cAAM,cAAc,SAAU,OAAO;AACnC;AACA,wBAAc,QAAQ,KAAK;AAC3B,YAAE,QAAQ,KAAK;AAAA,QACjB;AAEA,cAAM,aAAa,SAAU,OAAO;AAClC;AACA,wBAAc,OAAO,KAAK;AAC1B,YAAE,OAAO,KAAK;AAAA,QAChB;AAGA,YAAI;AACF,gBAAM,eAAe,IAAI,aAAa,OAAO,IAAI;AAEjD,uBAAa,UAAU;AACvB,uBAAa,UAAU;AACvB,uBAAa,UAAU;AACvB,uBAAa,SAAS;AAEtB,iBAAO;AAAA,QACT,SAASC,IAAP;AACA,cAAIA,GAAE,SAAS,aAAa;AAC1B,mBAAOA;AAAA,UACT;AAEA,iBAAO,UAAU,cAAc,MAC5B,KAAK,SAAU,KAAK;AACnB,gBAAI,iBAAiB,OAAO,IAAI;AAAA,UAClC,CAAC,EACA,KAAK,YAAY,WAAW;AAAA,QACjC;AAAA,MACF,CAAC;AAAA,IACL;AACA,QAAI,aAAa,OAAO;AACxB,QAAI,OAAO,iBAAiB,cAAc,OAAO;AAEjD,QAAI,QAAQ,2BAA2B,IAAI,OAAO,iBAAiB,aAAa;AAAA,EAClF;AACF;AAEO,SAAS,yBAA0B;AACxC,SAAO,OAAO,yBAAyB;AACzC;AAGA,IAAO,mCAAQ;;;ACjIkD,IAAOC,oCAAQ;",
  "names": ["onerror", "onclick", "onclose", "onshow", "e", "vue3_native_notification_default"]
}
